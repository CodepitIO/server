<link rel="stylesheet" href="http://st.codeforces.com/css/ttypography.css" type="text/css" charset="utf-8"><link rel="stylesheet" href="http://st.codeforces.com/css/problem-statement.css" type="text/css" charset="utf-8"><div class="problemindexholder" problemindex="B">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">Maximum Submatrix 2</div><div class="time-limit"><div class="property-title">time limit per test</div>2 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>512 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>You are given a matrix consisting of digits zero and one, its size is <span class="tex-span"><i>n</i>&#x2009;&#xD7;&#x2009;<i>m</i></span>. You are allowed to rearrange its rows. What is the maximum area of the submatrix that only consists of ones and can be obtained in the given problem by the described operations?</p><p>Let&apos;s assume that the rows of matrix <span class="tex-span"><i>a</i></span> are numbered from 1 to <span class="tex-span"><i>n</i></span> from top to bottom and the columns are numbered from 1 to <span class="tex-span"><i>m</i></span> from left to right. A matrix cell on the intersection of the <span class="tex-span"><i>i</i></span>-th row and the <span class="tex-span"><i>j</i></span>-th column can be represented as <span class="tex-span">(<i>i</i>,&#x2009;<i>j</i>)</span>. Formally, a submatrix of matrix <span class="tex-span"><i>a</i></span> is a group of four integers <span class="tex-span"><i>d</i>,&#x2009;<i>u</i>,&#x2009;<i>l</i>,&#x2009;<i>r</i></span> <span class="tex-span">(1&#x2009;&#x2264;&#x2009;<i>d</i>&#x2009;&#x2264;&#x2009;<i>u</i>&#x2009;&#x2264;&#x2009;<i>n</i>;&#xA0;1&#x2009;&#x2264;&#x2009;<i>l</i>&#x2009;&#x2264;&#x2009;<i>r</i>&#x2009;&#x2264;&#x2009;<i>m</i>)</span>. We will assume that the submatrix contains cells <span class="tex-span">(<i>i</i>,&#x2009;<i>j</i>)</span> <span class="tex-span">(<i>d</i>&#x2009;&#x2264;&#x2009;<i>i</i>&#x2009;&#x2264;&#x2009;<i>u</i>;&#xA0;<i>l</i>&#x2009;&#x2264;&#x2009;<i>j</i>&#x2009;&#x2264;&#x2009;<i>r</i>)</span>. The area of the submatrix is the number of cells it contains.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line contains two integers <span class="tex-span"><i>n</i></span> and <span class="tex-span"><i>m</i></span> <span class="tex-span">(1&#x2009;&#x2264;&#x2009;<i>n</i>,&#x2009;<i>m</i>&#x2009;&#x2264;&#x2009;5000)</span>. Next <span class="tex-span"><i>n</i></span> lines contain <span class="tex-span"><i>m</i></span> characters each &#x2014; matrix <span class="tex-span"><i>a</i></span>. Matrix <span class="tex-span"><i>a</i></span> only contains characters: &quot;<span class="tex-font-style-tt">0</span>&quot; and &quot;<span class="tex-font-style-tt">1</span>&quot;. Note that the elements of the matrix follow without any spaces in the lines.</p></div><div class="output-specification"><div class="section-title">Output</div><p>Print a single integer &#x2014; the area of the maximum obtained submatrix. If we cannot obtain a matrix of numbers one, print 0.</p></div><div class="sample-tests"><div class="section-title">Sample test(s)</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>1 1<br>1<br></pre></div><div class="output"><div class="title">Output</div><pre>1<br></pre></div><div class="input"><div class="title">Input</div><pre>2 2<br>10<br>11<br></pre></div><div class="output"><div class="title">Output</div><pre>2<br></pre></div><div class="input"><div class="title">Input</div><pre>4 3<br>100<br>011<br>000<br>101<br></pre></div><div class="output"><div class="title">Output</div><pre>2<br></pre></div></div></div></div></div>
</div>