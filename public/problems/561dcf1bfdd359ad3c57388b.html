<link rel="stylesheet" href="http://st.codeforces.com/css/ttypography.css" type="text/css" charset="utf-8"><link rel="stylesheet" href="http://st.codeforces.com/css/problem-statement.css" type="text/css" charset="utf-8"><div class="problemindexholder" problemindex="D">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">Shaass and Painter Robot</div><div class="time-limit"><div class="property-title">time limit per test</div>2 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>Shaass thinks a kitchen with all white floor tiles is so boring. His kitchen floor is made of <span class="tex-span"><i>n</i>&#xB7;<i>m</i></span> square tiles forming a <span class="tex-span"><i>n</i>&#x2009;&#xD7;&#x2009;<i>m</i></span> rectangle. Therefore he&apos;s decided to color some of the tiles in black so that the floor looks like a checkerboard, which is no two side-adjacent tiles should have the same color.</p><p>Shaass wants to use a painter robot to color the tiles. In the beginning the robot is standing in a border tile <span class="tex-span">(<i>x</i><sub class="lower-index"><i>s</i></sub>,&#x2009;<i>y</i><sub class="lower-index"><i>s</i></sub>)</span> facing a diagonal direction (i.e. upper-left, upper-right, down-left or down-right). As the robot walks in the kitchen he paints every tile he passes even if it&apos;s painted before. Painting each tile consumes one unit of black paint. If at any moment the robot hits a wall of the kitchen he changes his direction according the reflection rules. Note that a tile gets painted when the robot enters the tile from another tile, in other words changing direction in the same tile doesn&apos;t lead to any painting. The first tile the robot is standing on, is also painted.</p><p>The robot stops painting the first moment the floor is checkered. Given the dimensions of the kitchen and the position of the robot, find out the amount of paint the robot consumes before it stops painting the floor.</p><p>Let&apos;s consider an examples depicted below.</p><center> <img class="tex-graphics" src="http://codeforces.com/predownloaded/3b/86/3b86089674d6731d289b2deaf61efc7957525a77.png"> </center><p>If the robot starts at tile number 1 (the tile <span class="tex-span">(1,&#x2009;1)</span>) of the left grid heading to down-right it&apos;ll pass tiles 1354236 and consumes 7 units of black paint on his way until he stops at tile number 6. But if it starts at tile number 1 in the right grid heading to down-right it will get stuck in a loop painting tiles 1, 2, and 3.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line of the input contains two integers <span class="tex-span"><i>n</i></span> and <span class="tex-span"><i>m</i></span>, <span class="tex-span">(2&#x2009;&#x2264;&#x2009;<i>n</i>,&#x2009;<i>m</i>&#x2009;&#x2264;&#x2009;10<sup class="upper-index">5</sup>)</span>. The second line contains two integers <span class="tex-span"><i>x</i><sub class="lower-index"><i>s</i></sub></span> and <span class="tex-span"><i>y</i><sub class="lower-index"><i>s</i></sub></span> <span class="tex-span">(1&#x2009;&#x2264;&#x2009;<i>x</i><sub class="lower-index"><i>s</i></sub>&#x2009;&#x2264;&#x2009;<i>n</i>,&#x2009;1&#x2009;&#x2264;&#x2009;<i>y</i><sub class="lower-index"><i>s</i></sub>&#x2009;&#x2264;&#x2009;<i>m</i>)</span> and the direction robot is facing initially. Direction is one of the strings: &quot;<span class="tex-font-style-tt">UL</span>&quot; (upper-left direction), &quot;<span class="tex-font-style-tt">UR</span>&quot; (upper-right), &quot;<span class="tex-font-style-tt">DL</span>&quot; (down-left) or &quot;<span class="tex-font-style-tt">DR</span>&quot; (down-right).</p><p>Note, that record <span class="tex-span">(<i>x</i><sub class="lower-index"><i>s</i></sub>,&#x2009;<i>y</i><sub class="lower-index"><i>s</i></sub>)</span> denotes the tile that is located at the <span class="tex-span"><i>x</i><sub class="lower-index"><i>s</i></sub></span>-th row from the top and at the <span class="tex-span"><i>y</i><sub class="lower-index"><i>s</i></sub></span>-th column from the left of the kitchen.</p><p>It&apos;s guaranteed that the starting position will be a border tile (a tile with less than four side-adjacent tiles).</p></div><div class="output-specification"><div class="section-title">Output</div><p>Print the amount of paint the robot consumes to obtain a checkered kitchen floor. Or print <span class="tex-font-style-tt">-1</span> if it never happens.</p><p>Please do not use the <span class="tex-font-style-tt">%lld</span> specificator to read or write 64-bit integers in &#x421;++. It is preferred to use the <span class="tex-font-style-tt">cin</span>, <span class="tex-font-style-tt">cout</span> streams or the <span class="tex-font-style-tt">%I64d</span> specificator.</p></div><div class="sample-tests"><div class="section-title">Sample test(s)</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>3 4<br>1 1 DR<br></pre></div><div class="output"><div class="title">Output</div><pre>7<br></pre></div><div class="input"><div class="title">Input</div><pre>3 4<br>3 3 DR<br></pre></div><div class="output"><div class="title">Output</div><pre>11<br></pre></div><div class="input"><div class="title">Input</div><pre>3 3<br>1 1 DR<br></pre></div><div class="output"><div class="title">Output</div><pre>-1<br></pre></div><div class="input"><div class="title">Input</div><pre>3 3<br>1 2 DL<br></pre></div><div class="output"><div class="title">Output</div><pre>4<br></pre></div></div></div></div></div>
</div>