<link rel="stylesheet" href="http://st.codeforces.com/css/ttypography.css" type="text/css" charset="utf-8"><link rel="stylesheet" href="http://st.codeforces.com/css/problem-statement.css" type="text/css" charset="utf-8"><div class="problemindexholder" problemindex="E">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">Triangles 3000</div><div class="time-limit"><div class="property-title">time limit per test</div>5 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>512 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>You are given a set <span class="tex-span"><i>L</i>&#x2009;=&#x2009;{<i>l</i><sub class="lower-index">1</sub>,&#x2009;<i>l</i><sub class="lower-index">2</sub>,&#x2009;...,&#x2009;<i>l</i><sub class="lower-index"><i>n</i></sub>}</span> of <span class="tex-span"><i>n</i></span> pairwise non-parallel lines on the Euclidean plane. The <span class="tex-span"><i>i</i></span>-th line is given by an equation in the form of <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub><i>x</i>&#x2009;+&#x2009;<i>b</i><sub class="lower-index"><i>i</i></sub><i>y</i>&#x2009;=&#x2009;<i>c</i><sub class="lower-index"><i>i</i></sub></span>. <span class="tex-span"><i>L</i></span> doesn&apos;t contain three lines coming through the same point. </p><p>A subset of three distinct lines is chosen equiprobably. Determine the expected value of the area of the triangle formed by the three lines.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line of the input contains integer <span class="tex-span"><i>n</i></span> (<span class="tex-span">3&#x2009;&#x2264;&#x2009;<i>n</i>&#x2009;&#x2264;&#x2009;3000</span>).</p><p>Each of the next lines contains three integers <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub>,&#x2009;<i>b</i><sub class="lower-index"><i>i</i></sub>,&#x2009;<i>c</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">&#x2009;-&#x2009;100&#x2009;&#x2264;&#x2009;<i>a</i><sub class="lower-index"><i>i</i></sub>,&#x2009;<i>b</i><sub class="lower-index"><i>i</i></sub>&#x2009;&#x2264;&#x2009;100</span>, <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub><sup class="upper-index">2</sup>&#x2009;+&#x2009;<i>b</i><sub class="lower-index"><i>i</i></sub><sup class="upper-index">2</sup>&#x2009;&gt;&#x2009;0</span>, <span class="tex-span">&#x2009;-&#x2009;10&#x2009;000&#x2009;&#x2264;&#x2009;<i>c</i><sub class="lower-index"><i>i</i></sub>&#x2009;&#x2264;&#x2009;10&#x2009;000</span>) &#x2014; the coefficients defining the <span class="tex-span"><i>i</i></span>-th line.</p><p>It is guaranteed that no two lines are parallel. Besides, any two lines intersect at angle at least <span class="tex-span">10<sup class="upper-index">&#x2009;-&#x2009;4</sup></span> radians. </p><p>If we assume that <span class="tex-span"><i>I</i></span> is a set of points of pairwise intersection of the lines (i. e. <img align="middle" class="tex-formula" src="http://codeforces.com/predownloaded/09/43/09432e2bcd4de789d15fa4ab107e2d1c124adc5b.png">), then for any point <img align="middle" class="tex-formula" src="http://codeforces.com/predownloaded/f3/fd/f3fdae09194d1de395fd7db66443720f06107224.png"> it is true that the coordinates of <span class="tex-span"><i>a</i></span> do not exceed <span class="tex-span">10<sup class="upper-index">6</sup></span> by their absolute values. Also, for any two distinct points <img align="middle" class="tex-formula" src="http://codeforces.com/predownloaded/17/1a/171a32283f61473178aa5a0c0456a9c8d69f3f96.png"> the distance between <span class="tex-span"><i>a</i></span> and <span class="tex-span"><i>b</i></span> is no less than <span class="tex-span">10<sup class="upper-index">&#x2009;-&#x2009;5</sup></span>.</p></div><div class="output-specification"><div class="section-title">Output</div><p>Print a single real number equal to the sought expected value. Your answer will be checked with the absolute or relative error <span class="tex-span">10<sup class="upper-index">&#x2009;-&#x2009;4</sup></span>.</p></div><div class="sample-tests"><div class="section-title">Sample test(s)</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>4<br>1 0 0<br>0 1 0<br>1 1 2<br>-1 1 -1<br></pre></div><div class="output"><div class="title">Output</div><pre>1.25</pre></div></div></div><div class="note"><div class="section-title">Note</div><p>A sample from the statement is shown below. There are four triangles on the plane, their areas are <span class="tex-span">0.25,&#x2009;0.5,&#x2009;2,&#x2009;2.25</span>. </p><center> <img class="tex-graphics" src="http://codeforces.com/predownloaded/4e/bd/4ebd2f588b636b8fdbfde54aff1f62ad7866ab03.png"> </center></div></div></div>
</div>