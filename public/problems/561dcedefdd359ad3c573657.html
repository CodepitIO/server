<link rel="stylesheet" href="http://st.codeforces.com/css/ttypography.css" type="text/css" charset="utf-8"><link rel="stylesheet" href="http://st.codeforces.com/css/problem-statement.css" type="text/css" charset="utf-8"><div class="problemindexholder" problemindex="A">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">Variable, or There and Back Again</div><div class="time-limit"><div class="property-title">time limit per test</div>2 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>Life is not easy for the perfectly common variable named Vasya. Wherever it goes, it is either assigned a value, or simply ignored, or is being used!</p><p>Vasya&apos;s life goes in states of a program. In each state, Vasya can either be used (for example, to calculate the value of another variable), or be assigned a value, or ignored. Between some states are directed (oriented) transitions.</p><p>A <span class="tex-font-style-it">path</span> is a sequence of states <span class="tex-span"><i>v</i><sub class="lower-index">1</sub>,&#x2009;<i>v</i><sub class="lower-index">2</sub>,&#x2009;...,&#x2009;<i>v</i><sub class="lower-index"><i>x</i></sub></span>, where for any <span class="tex-span">1&#x2009;&#x2264;&#x2009;<i>i</i>&#x2009;&lt;&#x2009;<i>x</i></span> exists a transition from <span class="tex-span"><i>v</i><sub class="lower-index"><i>i</i></sub></span> to <span class="tex-span"><i>v</i><sub class="lower-index"><i>i</i>&#x2009;+&#x2009;1</sub></span>.</p><p>Vasya&apos;s value in state <span class="tex-span"><i>v</i></span> is interesting to the world, if exists path <span class="tex-span"><i>p</i><sub class="lower-index">1</sub>,&#x2009;<i>p</i><sub class="lower-index">2</sub>,&#x2009;...,&#x2009;<i>p</i><sub class="lower-index"><i>k</i></sub></span> such, that <span class="tex-span"><i>p</i><sub class="lower-index"><i>i</i></sub>&#x2009;=&#x2009;<i>v</i></span> for some <span class="tex-span"><i>i</i></span> <span class="tex-span">(1&#x2009;&#x2264;&#x2009;<i>i</i>&#x2009;&#x2264;&#x2009;<i>k</i>)</span>, in state <span class="tex-span"><i>p</i><sub class="lower-index">1</sub></span> Vasya gets assigned a value, in state <span class="tex-span"><i>p</i><sub class="lower-index"><i>k</i></sub></span> Vasya is used and there is no state <span class="tex-span"><i>p</i><sub class="lower-index"><i>i</i></sub></span> (except for <span class="tex-span"><i>p</i><sub class="lower-index">1</sub></span>) where Vasya gets assigned a value.</p><p>Help Vasya, find the states in which Vasya&apos;s value is interesting to the world.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line contains two space-separated integers <span class="tex-span"><i>n</i></span> and <span class="tex-span"><i>m</i></span> (<span class="tex-span">1&#x2009;&#x2264;&#x2009;<i>n</i>,&#x2009;<i>m</i>&#x2009;&#x2264;&#x2009;10<sup class="upper-index">5</sup></span>) &#x2014; the numbers of states and transitions, correspondingly.</p><p>The second line contains space-separated <span class="tex-span"><i>n</i></span> integers <span class="tex-span"><i>f</i><sub class="lower-index">1</sub>,&#x2009;<i>f</i><sub class="lower-index">2</sub>,&#x2009;...,&#x2009;<i>f</i><sub class="lower-index"><i>n</i></sub></span> (<span class="tex-span">0&#x2009;&#x2264;&#x2009;<i>f</i><sub class="lower-index"><i>i</i></sub>&#x2009;&#x2264;&#x2009;2</span>), <span class="tex-span"><i>f</i><sub class="lower-index"><i>i</i></sub></span> described actions performed upon Vasya in state <span class="tex-span"><i>i</i></span>: <span class="tex-span">0</span> represents ignoring, <span class="tex-span">1</span> &#x2014; assigning a value, <span class="tex-span">2</span> &#x2014; using.</p><p>Next <span class="tex-span"><i>m</i></span> lines contain space-separated pairs of integers <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub>,&#x2009;<i>b</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1&#x2009;&#x2264;&#x2009;<i>a</i><sub class="lower-index"><i>i</i></sub>,&#x2009;<i>b</i><sub class="lower-index"><i>i</i></sub>&#x2009;&#x2264;&#x2009;<i>n</i></span>, <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub>&#x2009;&#x2260;&#x2009;<i>b</i><sub class="lower-index"><i>i</i></sub></span>), each pair represents the transition from the state number <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span> to the state number <span class="tex-span"><i>b</i><sub class="lower-index"><i>i</i></sub></span>. Between two states can be any number of transitions.</p></div><div class="output-specification"><div class="section-title">Output</div><p>Print <span class="tex-span"><i>n</i></span> integers <span class="tex-span"><i>r</i><sub class="lower-index">1</sub>,&#x2009;<i>r</i><sub class="lower-index">2</sub>,&#x2009;...,&#x2009;<i>r</i><sub class="lower-index"><i>n</i></sub></span>, separated by spaces or new lines. Number <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span> should equal <span class="tex-span">1</span>, if Vasya&apos;s value in state <span class="tex-span"><i>i</i></span> is interesting to the world and otherwise, it should equal <span class="tex-span">0</span>. The states are numbered from <span class="tex-span">1</span> to <span class="tex-span"><i>n</i></span> in the order, in which they are described in the input.</p></div><div class="sample-tests"><div class="section-title">Sample test(s)</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>4 3<br>1 0 0 2<br>1 2<br>2 3<br>3 4<br></pre></div><div class="output"><div class="title">Output</div><pre>1<br>1<br>1<br>1<br></pre></div><div class="input"><div class="title">Input</div><pre>3 1<br>1 0 2<br>1 3<br></pre></div><div class="output"><div class="title">Output</div><pre>1<br>0<br>1<br></pre></div><div class="input"><div class="title">Input</div><pre>3 1<br>2 0 1<br>1 3<br></pre></div><div class="output"><div class="title">Output</div><pre>0<br>0<br>0<br></pre></div></div></div><div class="note"><div class="section-title">Note</div><p>In the first sample the program states can be used to make the only path in which the value of Vasya interests the world, 1 <img align="middle" class="tex-formula" src="http://codeforces.com/predownloaded/9e/58/9e58594e343ae98e6885aaa282186965f4b9653b.png"> 2 <img align="middle" class="tex-formula" src="http://codeforces.com/predownloaded/9e/58/9e58594e343ae98e6885aaa282186965f4b9653b.png"> 3 <img align="middle" class="tex-formula" src="http://codeforces.com/predownloaded/9e/58/9e58594e343ae98e6885aaa282186965f4b9653b.png"> 4; it includes all the states, so in all of them Vasya&apos;s value is interesting to the world.</p><p>The second sample the only path in which Vasya&apos;s value is interesting to the world is , &#x2014; 1 <img align="middle" class="tex-formula" src="http://codeforces.com/predownloaded/9e/58/9e58594e343ae98e6885aaa282186965f4b9653b.png"> 3; state 2 is not included there.</p><p>In the third sample we cannot make from the states any path in which the value of Vasya would be interesting to the world, so the value of Vasya is never interesting to the world.</p></div></div></div>
</div>