<link rel="stylesheet" href="http://st.codeforces.com/css/ttypography.css" type="text/css" charset="utf-8"><link rel="stylesheet" href="http://st.codeforces.com/css/problem-statement.css" type="text/css" charset="utf-8"><div class="problemindexholder" problemindex="C">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">Mushroom Gnomes - 2</div><div class="time-limit"><div class="property-title">time limit per test</div>1 second</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>One day Natalia was walking in the woods when she met a little mushroom gnome. The gnome told her the following story:</p><p>Everybody knows that the mushroom gnomes&apos; power lies in the magic mushrooms that grow in the native woods of the gnomes. There are <span class="tex-span"><i>n</i></span> trees and <span class="tex-span"><i>m</i></span> magic mushrooms in the woods: the <span class="tex-span"><i>i</i></span>-th tree grows at a point on a straight line with coordinates <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span> and has the height of <span class="tex-span"><i>h</i><sub class="lower-index"><i>i</i></sub></span>, the <span class="tex-span"><i>j</i></span>-th mushroom grows at the point with coordinates <span class="tex-span"><i>b</i><sub class="lower-index"><i>j</i></sub></span> and has magical powers <span class="tex-span"><i>z</i><sub class="lower-index"><i>j</i></sub></span>.</p><p>But one day wild mushroommunchers, the sworn enemies of mushroom gnomes unleashed a terrible storm on their home forest. As a result, some of the trees began to fall and crush the magic mushrooms. The supreme oracle of mushroom gnomes calculated in advance the probability for each tree that it will fall to the left, to the right or will stand on. If the tree with the coordinate <span class="tex-span"><i>x</i></span> and height <span class="tex-span"><i>h</i></span> falls to the left, then all the mushrooms that belong to the right-open interval <span class="tex-span">[<i>x</i>&#x2009;-&#x2009;<i>h</i>,&#x2009;<i>x</i>)</span>, are destroyed. If a tree falls to the right, then the mushrooms that belong to the left-open interval <span class="tex-span">(<i>x</i>,&#x2009;<i>x</i>&#x2009;+&#x2009;<i>h</i>]</span> are destroyed. Only those mushrooms that are not hit by a single tree survive.</p><p>Knowing that all the trees fall independently of each other (i.e., all the events are mutually independent, and besides, the trees do not interfere with other trees falling in an arbitrary direction), the supreme oracle was also able to quickly calculate what would be the expectation of the total power of the mushrooms which survived after the storm. His calculations ultimately saved the mushroom gnomes from imminent death.</p><p>Natalia, as a good Olympiad programmer, got interested in this story, and she decided to come up with a way to quickly calculate the expectation of the sum of the surviving mushrooms&apos; power.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line contains two integers <span class="tex-span"><i>n</i></span> and <span class="tex-span"><i>m</i></span> (<span class="tex-span">1&#x2009;&#x2264;&#x2009;<i>n</i>&#x2009;&#x2264;&#x2009;10<sup class="upper-index">5</sup></span>, <span class="tex-span">1&#x2009;&#x2264;&#x2009;<i>m</i>&#x2009;&#x2264;&#x2009;10<sup class="upper-index">4</sup></span>) &#x2014; the number of trees and mushrooms, respectively.</p><p>Each of the next <span class="tex-span"><i>n</i></span> lines contain four integers &#x2014; <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span"><i>h</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span"><i>l</i><sub class="lower-index"><i>i</i></sub></span>, <span class="tex-span"><i>r</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">|<i>a</i><sub class="lower-index"><i>i</i></sub>|&#x2009;&#x2264;&#x2009;10<sup class="upper-index">9</sup></span>, <span class="tex-span">1&#x2009;&#x2264;&#x2009;<i>h</i><sub class="lower-index"><i>i</i></sub>&#x2009;&#x2264;&#x2009;10<sup class="upper-index">9</sup></span>, <span class="tex-span">0&#x2009;&#x2264;&#x2009;<i>l</i><sub class="lower-index"><i>i</i></sub>,&#x2009;<i>r</i><sub class="lower-index"><i>i</i></sub>,&#x2009;<i>l</i><sub class="lower-index"><i>i</i></sub>&#x2009;+&#x2009;<i>r</i><sub class="lower-index"><i>i</i></sub>&#x2009;&#x2264;&#x2009;100</span>) which represent the coordinate of the <span class="tex-span"><i>i</i></span>-th tree, its height, the percentage of the probabilities that the tree falls to the left and to the right, respectively (the remaining percentage is the probability that the tree will stand on).</p><p>Each of next <span class="tex-span"><i>m</i></span> lines contain two integers <span class="tex-span"><i>b</i><sub class="lower-index"><i>j</i></sub></span>, <span class="tex-span"><i>z</i><sub class="lower-index"><i>j</i></sub></span> (<span class="tex-span">|<i>b</i><sub class="lower-index"><i>j</i></sub>|&#x2009;&#x2264;&#x2009;10<sup class="upper-index">9</sup></span>, <span class="tex-span">1&#x2009;&#x2264;&#x2009;<i>z</i><sub class="lower-index"><i>j</i></sub>&#x2009;&#x2264;&#x2009;10<sup class="upper-index">3</sup></span>) which represent the coordinate and the magical power of the <span class="tex-span"><i>j</i></span>-th mushroom, respectively.</p><p>An arbitrary number of trees and mushrooms can grow in one point.</p></div><div class="output-specification"><div class="section-title">Output</div><p>Print a real number &#x2014; the expectation of the total magical power of the surviving mushrooms. The result is accepted with relative or absolute accuracy <span class="tex-span">10<sup class="upper-index">&#x2009;-&#x2009;4</sup></span>.</p></div><div class="sample-tests"><div class="section-title">Sample test(s)</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>1 1<br>2 2 50 50<br>1 1<br></pre></div><div class="output"><div class="title">Output</div><pre>0.5000000000<br></pre></div><div class="input"><div class="title">Input</div><pre>2 1<br>2 2 50 50<br>4 2 50 50<br>3 1<br></pre></div><div class="output"><div class="title">Output</div><pre>0.2500000000<br></pre></div></div></div><div class="note"><div class="section-title">Note</div><p>It is believed that the mushroom with the coordinate <span class="tex-span"><i>x</i></span> belongs to the right-open interval <span class="tex-span">[<i>l</i>,&#x2009;<i>r</i>)</span> if and only if <span class="tex-span"><i>l</i>&#x2009;&#x2264;&#x2009;<i>x</i>&#x2009;&lt;&#x2009;<i>r</i></span>. Similarly, the mushroom with the coordinate <span class="tex-span"><i>x</i></span> belongs to the left-open interval <span class="tex-span">(<i>l</i>,&#x2009;<i>r</i>]</span> if and only if <span class="tex-span"><i>l</i>&#x2009;&lt;&#x2009;<i>x</i>&#x2009;&#x2264;&#x2009;<i>r</i></span>.</p><p>In the first test the mushroom survives with the probability of 50%, depending on where the single tree falls.</p><p>In the second test the mushroom survives only if neither of the two trees falls on it. It occurs with the probability of 50% <span class="tex-span">&#x2009;&#xD7;&#x2009;</span> 50% = 25%.</p><p>Pretest &#x2116;12 is the large test with <span class="tex-span">10<sup class="upper-index">5</sup></span> trees and one mushroom.</p></div></div></div>
</div>