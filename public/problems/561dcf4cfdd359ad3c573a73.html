<link rel="stylesheet" href="http://st.codeforces.com/css/ttypography.css" type="text/css" charset="utf-8"><link rel="stylesheet" href="http://st.codeforces.com/css/problem-statement.css" type="text/css" charset="utf-8"><div class="problemindexholder" problemindex="D">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">Adam and Tree</div><div class="time-limit"><div class="property-title">time limit per test</div>2 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>When Adam gets a rooted tree (connected non-directed graph without cycles), he immediately starts coloring it. More formally, he assigns a color to each edge of the tree so that it meets the following two conditions: </p><ul> <li> There is no vertex that has more than two incident edges painted the same color. </li><li> For any two vertexes that have incident edges painted the same color (say, <span class="tex-span"><i>c</i></span>), the path between them consists of the edges of the color <span class="tex-span"><i>c</i></span>. </li></ul><p>Not all tree paintings are equally good for Adam. Let&apos;s consider the path from some vertex to the root. Let&apos;s call the number of distinct colors on this path the cost of the vertex. The cost of the tree&apos;s coloring will be the maximum cost among all the vertexes. Help Adam determine the minimum possible cost of painting the tree. </p><p>Initially, Adam&apos;s tree consists of a single vertex that has number one and is the root. In one move Adam adds a new vertex to the already existing one, the new vertex gets the number equal to the minimum positive available integer. After each operation you need to calculate the minimum cost of coloring the resulting tree.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line contains integer <span class="tex-span"><i>n</i></span> (<span class="tex-span">1&#x2009;&#x2264;&#x2009;<i>n</i>&#x2009;&#x2264;&#x2009;10<sup class="upper-index">6</sup></span>) &#x2014; the number of times a new vertex is added. The second line contains <span class="tex-span"><i>n</i></span> numbers <span class="tex-span"><i>p</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1&#x2009;&#x2264;&#x2009;<i>p</i><sub class="lower-index"><i>i</i></sub>&#x2009;&#x2264;&#x2009;<i>i</i></span>) &#x2014; the numbers of the vertexes to which we add another vertex. </p></div><div class="output-specification"><div class="section-title">Output</div><p>Print <span class="tex-span"><i>n</i></span> integers &#x2014; the minimum costs of the tree painting after each addition. </p></div><div class="sample-tests"><div class="section-title">Sample test(s)</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>11<br>1 1 1 3 4 4 7 3 7 6 6<br></pre></div><div class="output"><div class="title">Output</div><pre>1 1 1 1 1 2 2 2 2 2 3 </pre></div></div></div><div class="note"><div class="section-title">Note</div><p>The figure below shows one of the possible variants to paint a tree from the sample at the last moment. The cost of the vertexes with numbers 11 and 12 equals 3.</p><p><img class="tex-graphics" src="http://codeforces.com/predownloaded/76/b4/76b47c306f7c223661cdde4836bfc3f43a654203.png"></p></div></div></div>
</div>