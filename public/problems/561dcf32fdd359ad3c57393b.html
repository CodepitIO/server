<link rel="stylesheet" href="http://st.codeforces.com/css/ttypography.css" type="text/css" charset="utf-8"><link rel="stylesheet" href="http://st.codeforces.com/css/problem-statement.css" type="text/css" charset="utf-8"><div class="problemindexholder" problemindex="D">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">Dima and Trap Graph</div><div class="time-limit"><div class="property-title">time limit per test</div>3 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>Dima and Inna love spending time together. The problem is, Seryozha isn&apos;t too enthusiastic to leave his room for some reason. But Dima and Inna love each other so much that they decided to get criminal...</p><p>Dima constructed a trap graph. He shouted: &quot;Hey Seryozha, have a look at my cool graph!&quot; to get his roommate interested and kicked him into the first node.</p><p>A trap graph is an undirected graph consisting of <span class="tex-span"><i>n</i></span> nodes and <span class="tex-span"><i>m</i></span> edges. For edge number <span class="tex-span"><i>k</i></span>, Dima denoted a range of integers from <span class="tex-span"><i>l</i><sub class="lower-index"><i>k</i></sub></span> to <span class="tex-span"><i>r</i><sub class="lower-index"><i>k</i></sub></span> <span class="tex-span">(<i>l</i><sub class="lower-index"><i>k</i></sub>&#x2009;&#x2264;&#x2009;<i>r</i><sub class="lower-index"><i>k</i></sub>)</span>. In order to get out of the trap graph, Seryozha initially (before starting his movements) should pick some integer (let&apos;s call it <span class="tex-span"><i>x</i></span>), then Seryozha must go some way from the starting node with number <span class="tex-span">1</span> to the final node with number <span class="tex-span"><i>n</i></span>. At that, Seryozha can go along edge <span class="tex-span"><i>k</i></span> only if <span class="tex-span"><i>l</i><sub class="lower-index"><i>k</i></sub>&#x2009;&#x2264;&#x2009;<i>x</i>&#x2009;&#x2264;&#x2009;<i>r</i><sub class="lower-index"><i>k</i></sub></span>.</p><p>Seryozha is a mathematician. He defined the <span class="tex-font-style-it">loyalty</span> of some path from the <span class="tex-span">1</span>-st node to the <span class="tex-span"><i>n</i></span>-th one as the number of integers <span class="tex-span"><i>x</i></span>, such that if he initially chooses one of them, he passes the whole path. Help Seryozha find the path of maximum loyalty and return to his room as quickly as possible!</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line of the input contains two integers <span class="tex-span"><i>n</i></span> and <span class="tex-span"><i>m</i></span> <span class="tex-span">(2&#x2009;&#x2264;&#x2009;<i>n</i>&#x2009;&#x2264;&#x2009;10<sup class="upper-index">3</sup>,&#x2009;0&#x2009;&#x2264;&#x2009;<i>m</i>&#x2009;&#x2264;&#x2009;3&#xB7;10<sup class="upper-index">3</sup>)</span>. Then follow <span class="tex-span"><i>m</i></span> lines describing the edges. Each line contains four integers <span class="tex-span"><i>a</i><sub class="lower-index"><i>k</i></sub></span>, <span class="tex-span"><i>b</i><sub class="lower-index"><i>k</i></sub></span>, <span class="tex-span"><i>l</i><sub class="lower-index"><i>k</i></sub></span> and <span class="tex-span"><i>r</i><sub class="lower-index"><i>k</i></sub></span> <span class="tex-span">(1&#x2009;&#x2264;&#x2009;<i>a</i><sub class="lower-index"><i>k</i></sub>,&#x2009;<i>b</i><sub class="lower-index"><i>k</i></sub>&#x2009;&#x2264;&#x2009;<i>n</i>,&#x2009;1&#x2009;&#x2264;&#x2009;<i>l</i><sub class="lower-index"><i>k</i></sub>&#x2009;&#x2264;&#x2009;<i>r</i><sub class="lower-index"><i>k</i></sub>&#x2009;&#x2264;&#x2009;10<sup class="upper-index">6</sup>)</span>. The numbers mean that in the trap graph the <span class="tex-span"><i>k</i></span>-th edge connects nodes <span class="tex-span"><i>a</i><sub class="lower-index"><i>k</i></sub></span> and <span class="tex-span"><i>b</i><sub class="lower-index"><i>k</i></sub></span>, this edge corresponds to the range of integers from <span class="tex-span"><i>l</i><sub class="lower-index"><i>k</i></sub></span> to <span class="tex-span"><i>r</i><sub class="lower-index"><i>k</i></sub></span>.</p><p>Note that the given graph can have loops and multiple edges.</p></div><div class="output-specification"><div class="section-title">Output</div><p>In a single line of the output print an integer &#x2014; the maximum loyalty among all paths from the first node to the <span class="tex-span"><i>n</i></span>-th one. If such paths do not exist or the maximum loyalty equals 0, print in a single line &quot;<span class="tex-font-style-tt">Nice work, Dima!</span>&quot; without the quotes.</p></div><div class="sample-tests"><div class="section-title">Sample test(s)</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>4 4<br>1 2 1 10<br>2 4 3 5<br>1 3 1 5<br>2 4 2 7<br></pre></div><div class="output"><div class="title">Output</div><pre>6<br></pre></div><div class="input"><div class="title">Input</div><pre>5 6<br>1 2 1 10<br>2 5 11 20<br>1 4 2 5<br>1 3 10 11<br>3 4 12 10000<br>4 5 6 6<br></pre></div><div class="output"><div class="title">Output</div><pre>Nice work, Dima!<br></pre></div></div></div><div class="note"><div class="section-title">Note</div><p>Explanation of the first example.</p><p>Overall, we have 2 ways to get from node 1 to node 4: first you must go along the edge 1-2 with range [1-10], then along one of the two edges 2-4. </p><p>One of them contains range [3-5], that is, we can pass through with numbers 3, 4, 5. So the loyalty of such path is 3.</p><p>If we go along edge 2-4 with range [2-7], then we can pass through with numbers 2, 3, 4, 5, 6, 7. The loyalty is 6. That is the answer.</p><p>The edge 1-2 have no influence on the answer because its range includes both ranges of the following edges.</p></div></div></div>
</div>