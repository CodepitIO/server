<link rel="stylesheet" href="http://st.codeforces.com/css/ttypography.css" type="text/css" charset="utf-8"><link rel="stylesheet" href="http://st.codeforces.com/css/problem-statement.css" type="text/css" charset="utf-8"><div class="problemindexholder" problemindex="B">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">Facetook Priority Wall</div><div class="time-limit"><div class="property-title">time limit per test</div>2 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>Facetook is a well known social network website, and it will launch a new feature called Facetook Priority Wall. This feature will sort all posts from your friends according to the priority factor (it will be described).</p><p>This priority factor will be affected by three types of actions: </p><ul> <li> 1. &quot;<span class="tex-font-style-tt"><span class="tex-span"><i>X</i></span> posted on <span class="tex-span"><i>Y</i></span>&apos;s wall</span>&quot; (15 points), </li><li> 2. &quot;<span class="tex-font-style-tt"><span class="tex-span"><i>X</i></span> commented on <span class="tex-span"><i>Y</i></span>&apos;s post</span>&quot; (10 points), </li><li> 3. &quot;<span class="tex-font-style-tt"><span class="tex-span"><i>X</i></span> likes <span class="tex-span"><i>Y</i></span>&apos;s post</span>&quot; (5 points). </li></ul><p><span class="tex-span"><i>X</i></span> and <span class="tex-span"><i>Y</i></span> will be two distinct names. And each action will increase the priority factor between <span class="tex-span"><i>X</i></span> and <span class="tex-span"><i>Y</i></span> (and vice versa) by the above value of points (the priority factor between <span class="tex-span"><i>X</i></span> and <span class="tex-span"><i>Y</i></span> is the same as the priority factor between <span class="tex-span"><i>Y</i></span> and <span class="tex-span"><i>X</i></span>).</p><p>You will be given <span class="tex-span"><i>n</i></span> actions with the above format (without the action number and the number of points), and you have to print all the distinct names in these actions sorted according to the priority factor with you.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line contains your name. The second line contains an integer <span class="tex-span"><i>n</i></span>, which is the number of actions (<span class="tex-span">1&#x2009;&#x2264;&#x2009;<i>n</i>&#x2009;&#x2264;&#x2009;100</span>). Then <span class="tex-span"><i>n</i></span> lines follow, it is guaranteed that each one contains exactly 1 action in the format given above. There is exactly one space between each two words in a line, and there are no extra spaces. All the letters are lowercase. All names in the input will consist of at least 1 letter and at most 10 small Latin letters.</p></div><div class="output-specification"><div class="section-title">Output</div><p>Print <span class="tex-span"><i>m</i></span> lines, where <span class="tex-span"><i>m</i></span> is the number of distinct names in the input (excluding yourself). Each line should contain just 1 name. The names should be sorted according to the priority factor with you in the descending order (the highest priority factor should come first). If two or more names have the same priority factor, print them in the alphabetical (lexicographical) order.</p><p>Note, that you should output all the names that are present in the input data (excluding yourself), even if that person has a zero priority factor.</p><p>The lexicographical comparison is performed by the standard &quot;<span class="tex-font-style-tt">&lt;</span>&quot; operator in modern programming languages. The line <span class="tex-span"><i>a</i></span> is lexicographically smaller than the line <span class="tex-span"><i>b</i></span>, if either <span class="tex-span"><i>a</i></span> is the prefix of <span class="tex-span"><i>b</i></span>, or if exists such an <span class="tex-span"><i>i</i></span> (<span class="tex-span">1&#x2009;&#x2264;&#x2009;<i>i</i>&#x2009;&#x2264;&#x2009;<i>min</i>(|<i>a</i>|,&#x2009;|<i>b</i>|)</span>), that <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub>&#x2009;&lt;&#x2009;<i>b</i><sub class="lower-index"><i>i</i></sub></span>, and for any <span class="tex-span"><i>j</i></span> (<span class="tex-span">1&#x2009;&#x2264;&#x2009;<i>j</i>&#x2009;&lt;&#x2009;<i>i</i></span>) <span class="tex-span"><i>a</i><sub class="lower-index"><i>j</i></sub>&#x2009;=&#x2009;<i>b</i><sub class="lower-index"><i>j</i></sub></span>, where <span class="tex-span">|<i>a</i>|</span> and <span class="tex-span">|<i>b</i>|</span> stand for the lengths of strings <span class="tex-span"><i>a</i></span> and <span class="tex-span"><i>b</i></span> correspondently.</p></div><div class="sample-tests"><div class="section-title">Sample test(s)</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>ahmed<br>3<br>ahmed posted on fatma&apos;s wall<br>fatma commented on ahmed&apos;s post<br>mona likes ahmed&apos;s post<br></pre></div><div class="output"><div class="title">Output</div><pre>fatma<br>mona<br></pre></div><div class="input"><div class="title">Input</div><pre>aba<br>1<br>likes likes posted&apos;s post<br></pre></div><div class="output"><div class="title">Output</div><pre>likes<br>posted<br></pre></div></div></div></div></div>
</div>