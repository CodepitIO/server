var mrtApp=angular.module("mrtApp",["mrtApp.templates","angularMoment","angular-toArrayFilter","ngRoute","appRoutes","ngAnimate","ngResource","ui.bootstrap","ui.slider","ui.sortable","ui-notification","ContestsCtrl","CreateContestCtrl","EditContestCtrl","HomeCtrl","LoginCtrl","OwnedContestsCtrl","ProblemsCtrl","ProfileCtrl","RegisterCtrl","SingleContestCtrl","SubmissionCtrl","TeamCtrl","AccountService","AuthService","CatalogService","ContestsService","GlobalService","ProblemsService","SingleContestService","SubmissionService","TagService","TeamService","UtilService"]).constant("angularMomentConfig",{preprocess:"utc",timezone:"America/Recife"}).service("authService",["$rootScope",function(a){return{getUserFlags:function(){return a.user?a.user.flags:0}}}]).config(["NotificationProvider","$tooltipProvider",function(a,b){a.setOptions({delay:5e3,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:"right",positionY:"bottom"}),b.setTriggers({toggleContestAccessEvent:"toggleContestAccessEvent"})}]).directive("restrict",["authService","GlobalFlags",function(a,b){return{restrict:"A",prioriry:1e5,scope:!1,compile:function(c,d,e){var f=!0,g=a.getUserFlags(),h=d.access.split(" ");for(var i in h)(g&b[h[i]])===b[h[i]]&&(f=!1);f&&(angular.forEach(c.children(),function(a){try{a.remove()}catch(b){}}),c.remove())}}}]).directive("confirmedClick",[function(){return{link:function(a,b,c){var d=c.ngConfirmClick||"Você tem certeza?",e=c.confirmedClick;b.bind("click",function(b){window.confirm(d)&&a.$eval(e)})}}}]).run(["$route","$location","$http","$window","$rootScope","$interval","Notification","$templateCache","amMoment",function(a,b,c,d,e,f,g,h,i){i.changeLocale("pt-br"),e.loadingUser=!0,e.intervalPromises=[],c.get("/api/check_login").success(function(c){e.user=c,e.loadingUser=!1;var d=b.path();if(a.routes[d]){var f=a.routes[d].mustNotBeLogged,h=a.routes[d].mustBeLogged,i=!!e.user;f&&i?(b.path("/"),g.info("Você não pode estar logado para ver esta página.")):h&&!i&&(b.path("/"),g.info("Você deve estar logado para ver esta página."))}}),e.$on("$locationChangeStart",function(c,d,g){for(var h=b.path(),i=0;i<e.intervalPromises.length;i++)f.cancel(e.intervalPromises[i]);if(e.intervalPromises=[],a.routes[h]){var j=a.routes[h].mustNotBeLogged,k=a.routes[h].mustBeLogged,l=!!e.user;j&&l?b.path("/"):k&&!l&&b.path("/")}}),e.not=function(a){return function(b){return!a(b)}},e.isActive=function(a){return a="^"+a.replace("/","\\/")+"$",new RegExp(a).test(b.path())}}]);angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/home.html",controller:"HomeController"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterController",mustNotBeLogged:!0}).when("/profile",{templateUrl:"views/profile.html",controller:"ProfileController",mustBeLogged:!0}).when("/team/:id",{templateUrl:"views/team.html",controller:"TeamController",mustBeLogged:!0}).when("/contests/create",{templateUrl:"views/contests/create.html",controller:"CreateContestController",mustBeLogged:!0}).when("/contests/created",{templateUrl:"views/contests/owner.html",controller:"OwnedContestsController",mustBeLogged:!0}).when("/contest/:id/edit",{templateUrl:"views/contests/edit.html",controller:"EditContestController",mustBeLogged:!0}).when("/contest/:id",{templateUrl:"views/contests/view.html",controller:"SingleContestController"}).when("/contests/open",{templateUrl:"views/contests/open.html",controller:"ContestsController"}).when("/contests/past",{templateUrl:"views/contests/past.html",controller:"ContestsController"}).when("/submission/:id",{templateUrl:"views/submission.html",controller:"SubmissionController"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]).config(["$locationProvider",function(a){a.hashPrefix("!")}]);var app=angular.module("HomeCtrl",[]);app.controller("HomeController",[function(){}]);var app=angular.module("LoginCtrl",[]);app.controller("LoginController",["$scope","$rootScope","$location","Notification","UtilFactory","AuthFactory","AccountFactory",function(a,b,c,d,e,f,g){function h(){e.getProfilePicByEmail({email:b.user.local.email,size:50}).then(function(b){a.pictureUrl=b.url,a.loadedPictureUrl=!0})}a.account={email:"",password:""},a.loadedPictureUrl=!1,a.pictureUrl="",a.login=function(){f.login(a.account).then(function(a){a._id&&(b.user=a,c.path("/profile"))},function(a){d.error(a)})},a.logout=function(){f.logout().then(function(d){b.user=null,c.path("/"),a.loadedPictureUrl=!1})},a.$watch(function(){return b.user},function(){b.user&&b.user.local&&h()})}]),app.directive("loginForm",[function(){return{restrict:"E",templateUrl:"views/login-form.html",controller:"LoginController"}}]);var app=angular.module("ProblemsCtrl",[]);app.controller("ProblemsController",["$scope","$timeout","Notification","ProblemsFactory",function(a,b,c,d){a.regex="",a.problems=[];var e=0;a.fetch=function(){var f=Date.now();e=f,a.regex.length>=3?b(function(){e==f&&d.fetch({regex:a.regex}).then(function(b){b.error?c.error(b.error):a.problems=b.problems})},200):a.problems=[]}}]);var app=angular.module("ProfileCtrl",[]);app.controller("ProfileController",["$scope","$rootScope","Notification","UtilFactory","AccountFactory","TeamFactory",function(a,b,c,d,e,f){function g(){d.getProfilePicByEmail({email:b.user.local.email,size:170}).then(function(b){a.pictureUrl=b.url,a.loadedPictureUrl=!0})}a.tabSelected="teams",a.account={name:"",surname:"",email:"",password:"",newPassword:"",confirmNewPassword:"",username:""},a.pictureUrl="",a.loadedPictureUrl=!1,a.loadedEditingProfile=!0,a.newTeamName="",a.teams=[],a.invited=[];var h=function(){f.getFromUser({id:b.user._id}).then(function(b){a.teams=b.teams,a.invited=b.invited})},i=function(a,b){return b._id.toString()!=a.toString()};a.changeTab=function(b){a.tabSelected=b},a.createTeam=function(){f.create({name:a.newTeamName}).then(function(b){a.teams.push(b),c.info("Time criado com sucesso!")},function(a){c.error(a)})},a.leaveTeam=function(b){f.leave({id:b}).then(function(c){a.teams=a.teams.filter(function(a){return a._id.toString()!=b.toString()})})},g(),a.edit=function(){a.loadedEditingProfile=!1,e.edit(a.account).then(function(b){a.loadedEditingProfile=!0,c.info("Dados atualizados!"),a.account.password=""},function(b){a.loadedEditingProfile=!0,c.error(b),a.account.password=""})},a.acceptTeamInvitation=function(b){f.accept({id:b}).then(function(c){a.invited=a.invited.filter(i.bind(null,b)),a.teams.push(c)})},a.declineTeamInvitation=function(b){f.decline({id:b}).then(function(c){a.invited=a.invited.filter(i.bind(null,b))})},a.$watch(function(){return b.user},function(){a.account=b.user.local,a.account.password=a.account.newPassword=a.account.confirmNewPassword="",h()})}]);var app=angular.module("RegisterCtrl",[]);app.controller("RegisterController",["$scope","$location","$rootScope","Notification","AccountFactory",function(a,b,c,d,e){a.account={name:"",surname:"",email:"",password:"",confirmPassword:"",username:""},a.register=function(){e.register(a.account).then(function(a){a._id&&(c.user=a,b.path("/profile"),d.success("Bem-vindo, "+a.local.name+"."))},function(a){d.error(a)})}}]);var app=angular.module("SubmissionCtrl",[]);app.controller("SubmissionController",["$scope","$routeParams","SubmissionFactory",function(a,b,c){a.code="";var d=function(){c.get({id:b.id}).then(function(b){a.code=b.code})};d()}]);var app=angular.module("TeamCtrl",[]);app.controller("TeamController",["$rootScope","$scope","$routeParams","$location","$timeout","Notification","TeamFactory","UtilFactory","GlobalFactory",function(a,b,c,d,e,f,g,h,i){var j=c.id;b.team={},b.newInvite="",b.tabSelected="invites",b.config={id:null,name:"",descr:""};var k=function(){g.get({id:j}).then(function(a){b.team=a,b.config.id=j,b.config.name=a.name,b.config.descr=a.description},function(a){d.path("/"),f.error(a)})};k();var l=function(a,b){return b.id.toString()!=a.toString()};b.changeTab=function(a){b.tabSelected=a},b.invite=function(){g.invite({id:j,invitee:b.newInvite}).then(function(a){f.success(a.name+" convidado com sucesso!"),b.team.invites.push(a)},function(a){f.error(a)})},b.removeFromTeam=function(a){g.remove({id:j,removee:a}).then(function(c){b.team.members=b.team.members.filter(l.bind(null,a)),b.team.invites=b.team.invites.filter(l.bind(null,a))},function(a){f.error(a)})};var m=0;b.edit=function(){var a=Date.now();m=a,e(function(){m==a&&g.edit(b.config)},400)}}]);var app=angular.module("ContestsCtrl",[]);app.controller("ContestsController",["$scope","$rootScope","$location","Notification","SingleContestFactory","ContestsFactory","SingleContestFactory","TeamFactory",function(a,b,c,d,e,f,e,g){var h={id:"0",name:"(individualmente)"};a.contests=[],a.teams=[],a.teamsAndSingle=[],a.joinContest={password:"",team:{}},a.curContest={},a.isCollapsed=!0,a.filterType=c.path().split("/")[2]||"open","open"==a.filterType?(a.predicate="date_start",a.reverse=!1):(a.predicate="date_end",a.reverse=!0),a.setJoinContestData=function(b){if(a.isCollapsed||a.curContest._id!=b._id){if("2"==b.contestantType){if(0===a.teams.length)return void d.error("Esta competição só permite times, e você não está em nenhum.");a.joinContest.team=a.teams[0].id}else a.joinContest.team=a.teamsAndSingle[0].id;a.joinContest.password="",a.curContest=b,a.isCollapsed=!1}else a.isCollapsed=!0};var i=function(){f.getByFilter({filter:a.filterType}).then(function(b){a.contests=b.contests;for(var c=0;c<a.contests.length;c++){var d=a.contests[c].date_start,e=a.contests[c].date_end;a.contests[c].duration=Math.floor((new Date(e)-new Date(d))/1e3)}}),g.getFromUser({}).then(function(b){a.teams=b.teams.map(function(a){return{id:a._id,name:a.name}}),a.teamsAndSingle=[h].concat(a.teams)})};i(),a.futureContestFilter=function(a,b,c){return new Date(a.date_start)>new Date},a.order=function(b){a.reverse=a.predicate===b?!a.reverse:!1,a.predicate=b},a.isInFuture=function(a){return new Date(a)>new Date},a.remove=function(b){e.remove({id:b}).then(function(c){d("Competição removida."),a.contests=a.contests.filter(function(a){return a._id.toString()!=b.toString()})})},a.join=function(){e.join({id:a.curContest._id,password:a.joinContest.password,team:a.joinContest.team}).then(function(b){d.success("Inscrito com sucesso nessa competição!"),a.curContest.isInContest=!0,a.isCollapsed=!0},function(a){d.error(a)})},a.leave=function(a){e.leave({id:a._id}).then(function(b){d("Você saiu da competição."),a.isInContest=!1},function(a){d.error(a)})}}]);var app=angular.module("CreateContestCtrl",[]);app.controller("CreateContestController",["$scope","$rootScope","$timeout","$location","Notification","ProblemsFactory","ContestsFactory",function(a,b,c,d,e,f,g){a.name="",a.descr="",a.startDateTime=new Date,a.endDateTime=new Date,a.password="",a.confirmPassword="",a.problems=[],a.contestantType="3",a.watchPrivate=0,a.access="Público",a.hours=5,a.minutes=0,a.frozenHours=1,a.frozenMinutes=0,a.blindHours=0,a.blindMinutes=15,a.loadingCreate=!1,a.showDescrField=!1,a.opened=!1,a.minDate=new Date,a.maxDate=new Date,a.maxDate.setFullYear(a.maxDate.getFullYear()+4),a.startDateTime.setSeconds(0),a.startDateTime.setMinutes(a.startDateTime.getMinutes()+10-a.startDateTime.getMinutes()%10),a.alphabet=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a.privatePopover={templateUrl:"private-contest-password.html",title:"Competição Privada"},a.problemRegex="",a.fetchedProblems=[];var h=0;a.fetch=function(){var b=Date.now();h=b,a.problemRegex.length>=3?c(function(){h==b&&f.fetch({regex:a.problemRegex,problems:a.problems}).then(function(b){b.error?toastr.error(b.error):a.fetchedProblems=b.problems})},400):a.fetchedProblems=[]},a.addProblem=function(b){a.problems.length>=26?e("A competição pode ter no máximo 26 problemas."):(a.problems.push(b),a.fetchedProblems=a.fetchedProblems.filter(function(a){return a.id.toString()!=b.id.toString()}))},a.removeProblem=function(b){a.problems=a.problems.filter(function(a){return a.id.toString()!=b.toString()})},a.toggleAccess=function(b){"Privado"==a.access?a.access="Público":a.access="Privado"},a.isAccess=function(b){return a.access==b},a.updateBlind=function(){a.frozenDuration=60*a.frozenHours+a.frozenMinutes,a.blindHours=a.blindHours||0,a.blindMinutes=a.blindMinutes||0,a.blindDuration=Math.min(60*a.blindHours+a.blindMinutes,a.frozenDuration),a.blindDuration=Math.max(a.blindDuration,0),a.blindDateTime=new Date(a.endDateTime),a.blindDateTime.setMinutes(a.blindDateTime.getMinutes()-a.blindDuration),a.blindHours=Math.floor(a.blindDuration/60),a.blindMinutes=a.blindDuration%60},a.updateFrozen=function(){a.duration=Math.floor(a.endDateTime-a.startDateTime)/6e4,a.frozenHours=a.frozenHours||0,a.frozenMinutes=a.frozenMinutes||0,a.frozenDuration=Math.min(60*a.frozenHours+a.frozenMinutes,a.duration),a.frozenDuration=Math.max(a.frozenDuration,0),a.frozenDateTime=new Date(a.endDateTime),a.frozenDateTime.setMinutes(a.frozenDateTime.getMinutes()-a.frozenDuration),a.frozenHours=Math.floor(a.frozenDuration/60),a.frozenMinutes=a.frozenDuration%60,a.updateBlind()},a.updateEndDateTime=function(){a.endDateTime=new Date(a.startDateTime),a.hours=a.hours||0,a.minutes=a.minutes||0,a.duration=Math.max(60*a.hours+a.minutes,0),a.duration=Math.min(a.duration,525600),a.endDateTime.setMinutes(a.endDateTime.getMinutes()+a.duration),a.hours=Math.floor(a.duration/60),a.minutes=a.duration%60,a.validDuration=a.duration>=10,a.updateFrozen()},a.open=function(){c(function(){a.opened=!0})},a.create=function(){var b=!0;0===a.name.length&&(e("Você deve inserir um nome."),b=!1),a.name.length>30&&(e("O nome pode ter no máximo 30 caracteres"),b=!1),a.descr.length>500&&(e("A descrição pode ter no máximo 500 caracteres"),b=!1),a.startDateTime&&a.endDateTime||(e("A competição deve ter uma data de início e uma duração."),b=!1),a.startDateTime<new Date&&(e("A competição deve ocorrer no futuro."),b=!1),a.duration<10&&(e("A competição deve durar ao menos 10 minutos."),b=!1),a.duration>525600&&(e("A competição pode durar no máximo 365 dias."),b=!1),a.frozenDuration>a.duration&&(e("O tempo de Frozen não pode ser maior que a duração da competição."),b=!1),a.blindDuration>a.frozenDuration&&(e("O tempo de Blind não pode ser maior que o tempo de Frozen."),b=!1),0===a.problems.length&&(e("Você deve inserir ao menos 1 problema."),b=!1),a.problems.length>25&&(e("A competição pode ter no máximo 25 problemas."),b=!1);var c="Privado"==a.access&&a.password||"",f="Privado"==a.access&&a.confirmPassword||"";c!=f&&(e("Você deve confirmar a senha da competição corretamente."),b=!1),"Privado"==a.access&&0===c.length&&0===f.length&&(e("Competições privadas devem possuir senha."),b=!1);var h=Number(a.contestantType);(!h||1>h||h>3)&&(e("Opção inválida de tipo de competidor."),b=!1),b&&(a.loadingCreate=!0,g.create({name:a.name,descr:a.descr,startDateTime:a.startDateTime,endDateTime:a.endDateTime,frozenDateTime:a.frozenDateTime,blindDateTime:a.blindDateTime,contestantType:a.contestantType,password:c,confirmPassword:f,problems:a.problems,watchPrivate:a.watchPrivate}).then(function(b){e.success("Competição criada com sucesso!"),a.loadingCreate=!1,d.path("/contests/created")},function(b){e.error(b),a.loadingCreate=!1}))}}]).directive("gtDate",["$interval","$rootScope",function(a,b){return{require:"ngModel",link:function(c,d,e,f){var g=function(a){return!a||a<new Date?(f.$setValidity("gtDate",!1),a):(f.$setValidity("gtDate",!0),a)},h=a(function(){g(f.$viewValue),c.updateEndDateTime()},1e3);b.intervalPromises.push(h),e.$observe("gtDate",function(a){return c.updateEndDateTime(),g(f.$viewValue)}),f.$parsers.unshift(function(a){return g(a)}),f.$formatters.unshift(function(a){return g(a)})}}}]);var app=angular.module("EditContestCtrl",[]);app.controller("EditContestController",["$scope","$rootScope","$routeParams","$timeout","$interval","$location","Notification","ProblemsFactory","ContestsFactory","SingleContestFactory",function(a,b,c,d,e,f,g,h,i,j){function k(a,b){return Math.floor((b-a)/6e4)}a.name="",a.descr="",a.startDateTime=new Date,a.endDateTime=new Date,a.password="",a.confirmPassword="",a.problems=[],a.contestantType="3",a.originalStartDateTime=new Date,a.originalProblems=[],a.hasStarted=!0,a.watchPrivate=null,a.access="",a.hours=0,a.minutes=0,a.frozenHours=0,a.frozenMinutes=0,a.blindHours=0,a.blindMinutes=0,a.loadingEdit=!1,a.showDescrField=!1,a.opened=!1,a.minDate=new Date,a.maxDate=new Date,a.maxDate.setFullYear(a.maxDate.getFullYear()+4),a.startDateTime.setSeconds(0),a.startDateTime.setMinutes(a.startDateTime.getMinutes()+10-a.startDateTime.getMinutes()%10),a.alphabet=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a.privatePopover={templateUrl:"private-contest-password.html",title:"Competição Privada"},a.problemRegex="",a.fetchedProblems=[];var l=0,m=function(){j.getFullData({id:c.id}).then(function(b){b=b.contest,b.date_start=new Date(b.date_start),b.date_end=new Date(b.date_end),b.frozen_time=new Date(b.frozen_time),b.blind_time=new Date(b.blind_time),a.name=b.name,a.descr=b.descr,a.startDateTime=b.date_start,a.originalStartDateTime=b.date_start,a.hasStarted=b.date_start<=new Date,a.minutes=k(b.date_start,b.date_end),a.frozenMinutes=k(b.frozen_time,b.date_end),a.blindMinutes=k(b.blind_time,b.date_end),a.updateEndDateTime(),a.problems=b.problems,a.password=b.password||"",a.confirmPassword=b.password||"",a.access=b.isPrivate?"Privado":"Público",a.originalProblems=$.extend(!0,[],b.problems),a.contestantType=b.contestantType+"",a.watchPrivate=b.watchPrivate?1:0},function(a){console.log(a),f.path("/")})};m(),a.fetch=function(){var b=Date.now();l=b,a.problemRegex.length>=3?d(function(){l==b&&h.fetch({regex:a.problemRegex,problems:a.problems}).then(function(b){b.error?toastr.error(b.error):a.fetchedProblems=b.problems})},400):a.fetchedProblems=[]},a.addProblem=function(b){a.problems.length>=26?g("A competição pode ter no máximo 26 problemas."):(a.problems.push(b),a.fetchedProblems=a.fetchedProblems.filter(function(a){return a.id.toString()!=b.id.toString()}))},a.removeProblem=function(b){a.problems=a.problems.filter(function(a){return a.id.toString()!=b.toString()})},a.hasToggled=!1,a.fireToggleContestAccess=function(){d(function(){a.hasToggled=!0,$("#accessPopover").trigger("toggleContestAccess")},0)},a.toggleAccess=function(){(a.hasToggled||"Público"==a.access)&&a.fireToggleContestAccess(),"Privado"==a.access?a.access="Público":a.access="Privado"},a.isAccess=function(b){return a.access==b},a.updateBlind=function(){a.frozenDuration=60*a.frozenHours+a.frozenMinutes,a.blindHours=a.blindHours||0,a.blindMinutes=a.blindMinutes||0,a.blindDuration=Math.min(60*a.blindHours+a.blindMinutes,a.frozenDuration),a.blindDuration=Math.max(a.blindDuration,0),a.blindDateTime=new Date(a.endDateTime),a.blindDateTime.setMinutes(a.blindDateTime.getMinutes()-a.blindDuration),a.blindHours=Math.floor(a.blindDuration/60),a.blindMinutes=a.blindDuration%60},a.updateFrozen=function(){a.duration=k(a.startDateTime,a.endDateTime),a.frozenHours=a.frozenHours||0,a.frozenMinutes=a.frozenMinutes||0,a.frozenDuration=Math.min(60*a.frozenHours+a.frozenMinutes,a.duration),a.frozenDuration=Math.max(a.frozenDuration,0),a.frozenDateTime=new Date(a.endDateTime),a.frozenDateTime.setMinutes(a.frozenDateTime.getMinutes()-a.frozenDuration),a.frozenHours=Math.floor(a.frozenDuration/60),a.frozenMinutes=a.frozenDuration%60,a.updateBlind()},a.updateEndDateTime=function(){a.endDateTime=new Date(a.startDateTime),a.hours=a.hours||0,a.minutes=a.minutes||0,a.duration=Math.max(60*a.hours+a.minutes,0),a.duration=Math.min(a.duration,525600),a.endDateTime.setMinutes(a.endDateTime.getMinutes()+a.duration),a.hours=Math.floor(a.duration/60),a.minutes=a.duration%60,a.validDuration=a.duration>=10,a.updateFrozen()},a.open=function(){d(function(){a.opened=!0})},a.edit=function(){a.loadingEdit=!0;var b="Privado"==a.access&&a.password||"",d="Privado"==a.access&&a.confirmPassword||"";j.edit({id:c.id,name:a.name,descr:a.descr,startDateTime:a.startDateTime,endDateTime:a.endDateTime,frozenDateTime:a.frozenDateTime,blindDateTime:a.blindDateTime,contestantType:a.contestantType,password:b,confirmPassword:d,problems:a.problems,watchPrivate:a.watchPrivate}).then(function(b){g("Competição editada!"),a.loadingCreate=!1,f.path("/contests/created")},function(b){g.error(b),a.loadingCreate=!1})};var n=e(function(){a.updateEndDateTime(),!a.hasStarted&&a.originalStartDateTime<=new Date&&(a.hasStarted=!0,a.problems=a.originalProblems,a.$$phase||a.$digest(),g("A competição começou. Você não pode mais mudar os problemas e a data de início."))},1e3);b.intervalPromises.push(n)}]).directive("gtDateEdit",["$interval",function(a){return{require:"ngModel",link:function(a,b,c,d){var e=function(a){return!a||a<new Date?(d.$setValidity("gtDateEdit",!1),a):(d.$setValidity("gtDateEdit",!0),a)};c.$observe("gtDateEdit",function(b){return a.updateEndDateTime(),e(d.$viewValue)}),d.$parsers.unshift(function(a){return e(a)}),d.$formatters.unshift(function(a){return e(a)})}}}]);var app=angular.module("OwnedContestsCtrl",[]);app.controller("OwnedContestsController",["$scope","$rootScope","Notification","ContestsFactory","SingleContestFactory",function(a,b,c,d,e){a.predicate="date_created",a.reverse=!0,a.contests=[];var f=function(){d.getAllFromLoggedUser({}).then(function(b){a.contests=b.contests;for(var c=0;c<a.contests.length;c++){var d=a.contests[c].date_start,e=a.contests[c].date_end;a.contests[c].duration=Math.floor((new Date(e)-new Date(d))/1e3)}})};f(),a.order=function(b){a.reverse=a.predicate===b?!a.reverse:!1,a.predicate=b},a.isNewContest=function(a){return(new Date-new Date(a))/6e4<=10},a.isOldDate=function(a){return new Date(a)<=new Date},a.remove=function(b){e.remove({id:b}).then(function(d){c("Competição removida."),a.contests=a.contests.filter(function(a){return a._id.toString()!=b.toString()})})}}]);var app=angular.module("SingleContestCtrl",[]);app.controller("SingleContestController",["$scope","$rootScope","$routeParams","$interval","$location","Notification","CatalogFactory","TagFactory","SubmissionFactory","SingleContestFactory",function(a,b,c,d,e,f,g,h,i,j){var k=function(){h.getTags().then(function(b){a.allTags=b.tags})};k();var l=[["á","à","ã","â","ä"],["é","è","ê","ë"],["í","ì","î","ï"],["õ","ô","ó","ò","ö"],["ü","ù","ú","û"]],m=["a","e","i","o","u"];a.fixTagInput=function(b){var c=b.tagSelected.toLowerCase();c=c.replace("ç","c"),c=c.replace("Ç","c");for(var d=0;5>d;d++)for(var e=0;e<l[d].length;e++){c=c.replace(l[d][e],m[d]);var f=String.fromCharCode(l[d][e].charCodeAt(0)-32);c=c.replace(f,m[d])}a.curProblem=Number(b.num),b.tagSelected=c};var n=function(b){g.update({keys:{contestant:a.contestantId,contest:a.id},data:{rate:b.rate,tags:b.tags,problem:b.id}})},o=function(){g.get({keys:{contestant:a.contestantId,contest:a.id}}).then(function(b){for(var c in b.data)a.problems[c].rate=b.data[c].rate,a.problems[c].tags=b.data[c].tags})};a.onSelectTag=function(a,b,c,d){d.tags||(d.tags={}),d.tags[a.id]=a,d.tagSelected=null,n(d)},a.notInsertedTags=function(a){var b=a.tags||{};return function(a){return!b[a.id]}},a.insertTag=function(b,c){13===b.keyCode&&c.tagSelected&&c.tagSelected.length>0&&(h.create({name:c.tagSelected}).then(function(b){a.allTags.push(b),c.tags=c.tags||{},c.tags[b.id]=b,n(c)},function(a){f.error(a)}),c.tagSelected=null)},a.removeTag=function(a,b){delete b.tags[a.id],n(b)},a.selectRate=function(a){n(a)},a.ratingStates=[{stateOn:"fa fa-star fa-2x",stateOff:"fa fa-star-o fa-2x"},{stateOn:"fa fa-star fa-2x",stateOff:"fa fa-star-o fa-2x"},{stateOn:"fa fa-star fa-2x",stateOff:"fa fa-star-o fa-2x"},{stateOn:"fa fa-star fa-2x",stateOff:"fa fa-star-o fa-2x"},{stateOn:"fa fa-star fa-2x",stateOff:"fa fa-star-o fa-2x"}],a.id=c.id,a.alphabet=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a.loadingData=!0,a.submittingProblem=!1,a.pendingSubmissions={},a.verdictName={"-4":"Compilando...","-3":"Executando...","-2":"Compilando...","-1":"Enviado para Correção",0:"Pendendo",1:"Aceito",2:"Resposta Errada",3:"Tempo Limite Excedido",4:"Erro de Compilação",5:"Erro durante Execução",6:"Limite de Memória Excedido",7:"Limite de Escrita Excedido",8:"Erro de Formatação",9:"Erro Desconhecido",10:"Uso de função restrita",11:"Submissão inválida",15:"Rascunho"},a.languages={cpp:"C++",java:"Java"},a.submission={contestId:a.id},a.toggleUpsolving=function(){var b=a.ord;a.ord=a.ord2,a.ord2=b,b=a.scores,a.scores=a.scores2,a.scores2=b,b=a.submissions,a.submissions=a.submissions2,a.submissions2=b,a.$$phase||a.$digest()},a.getMinutesBetweenDates=function(a,b){return Math.floor((new Date(b)-new Date(a))/6e4)},a.getSecondsBetweenDates=function(a,b){return Math.floor((new Date(b)-new Date(a))/1e3)},a.refreshScoreboard=function(){a.allSubmissions&&0===a.timeLeft&&a.timeline.moment<=a.timeline.options.max&&(a.scores=j.getScoreMap(a.allSubmissions,a.timeline.moment),a.ord=j.getLeadershipOrder(a.contestants,a.problems,a.scores),a.$$phase||a.$digest())};var p=0;a.timeAndRefreshScoreboard=function(){var b=new Date;(b-p>100||0===a.timeline.moment||a.timeline.moment==a.timeline.options.max)&&(a.refreshScoreboard(),p=b)};var q=function(){j.getDynamicScoreboard({id:a.id}).then(function(b){a.allSubmissions=b.submissions})};a.setBarType=function(){a.timeLeft>0?(a.timeLeft>a.timeToFrozen&&(a.barType="success"),a.timeLeft<=a.timeToFrozen&&a.timeLeft>a.timeToBlind&&"warning"!=a.barType&&(a.barType="warning",a.inContest?f.warning("A competição está Frozen! A partir de agora, o placar não será mais atualizado, mas você ainda terá acesso ao resultado de suas submissões!"):f.warning("A competição está Frozen! A partir de agora, o placar não será mais atualizado.")),a.timeLeft<=a.timeToBlind&&"danger"!=a.barType&&(a.barType="danger",a.inContest?f.error("A competição está Blind! A partir de agora, você não terá mais acesso ao resultado de nenhuma submissão, inclusive as suas!"):f.error("A competição está Blind! A partir de agora, ninguém tem acesso ao resultado de nenhuma submissão, inclusive as próprias."))):0===a.timeLeft&&(a.barType="info",f.info("A competição acabou!"))};var r=function(a){return!a||0>a||a>10?"info":1==a?"success":2==a?"error":8==a?"warning":"info"},s=function(){j.getScoreboard({id:a.id}).then(function(b){a.scores=b.scores,a.contestants=b.contestants,a.submissions=b.submissions;for(var c=0;c<a.submissions.length;c++){var d=a.submissions[c]._id,e=a.submissions[c].verdict;if(a.pendingSubmissions[d]&&e>=1&&10>=e){var g="Problema "+a.problems[a.submissions[c].problem].letter+": "+a.verdictName[e];f[r(e)]({message:g,delay:2e4}),delete a.pendingSubmissions[d]}else!a.pendingSubmissions[d]&&(1>e||e>10)&&(a.pendingSubmissions[d]=!0)}a.ord=j.getLeadershipOrder(a.contestants,a.problems,a.scores),a.$$phase||a.$digest()},function(a){f.error("Você precisa estar registrado nessa competição para visualizá-la"),e.path("/contests/open")})},t=function(){j.getScoreboard({id:a.id}).then(function(c){a.name=c.name,a.contestantId=c.contestantId,a.totalDuration=a.getSecondsBetweenDates(c.start,c.end),a.timeline.options.max=Math.floor(a.totalDuration/60),a.timeline.moment=a.timeline.options.max,a.problems={},a.problemsArray=c.problems;for(var e in c.problems)a.problems[c.problems[e]._id]={num:e,letter:a.alphabet[e],url:c.problems[e].url,id:c.problems[e]._id};a.inContest=c.inContest,a.contestants=c.contestants,a.scores=c.scores,a.ord=j.getLeadershipOrder(a.contestants,a.problems,a.scores),a.submissions2=c.submissions,a.submissions=c.submissions.filter(function(b){return 60*b.time<a.totalDuration});for(var f=0;f<a.submissions.length;f++){var g=a.submissions[f]._id,h=a.submissions[f].verdict;(1>h||h>10)&&(a.pendingSubmissions[g]=!0)}a.timeLeft=Math.max(a.getSecondsBetweenDates(new Date,c.end),0),a.timeToFrozen=a.getSecondsBetweenDates(c.frozen,c.end),a.timeToBlind=a.getSecondsBetweenDates(c.blind,c.end),a.progressBarValue=a.totalDuration-a.timeLeft;var i=0;if(0===a.timeLeft&&(a.scores2=c.upsolvingScores,a.ord2=j.getLeadershipOrder(a.contestants,a.problems,a.scores2)),a.timeLeft>0){a.setBarType();var k=d(function(){a.timeLeft--,a.progressBarValue++,a.setBarType(),a.timeLeft<=0?(q(),d.cancel(k)):(i++,i>=3&&(s(),i=0))},1e3);b.intervalPromises.push(k)}else q(),a.timeline.moment=a.timeline.options.max,a.barType="info";a.loadingData=!1,o()},function(a){f.error("Você precisa estar registrado nessa competição para visualizá-la"),e.path("/contests/open")})};a.getPenalty=function(b,c){return a.scores[c]&&a.scores[c][b]&&1==a.scores[c][b].status?a.scores[c][b].time+" ("+a.scores[c][b].errorCount+")":a.scores[c]&&a.scores[c][b]&&a.scores[c][b].errorCount>0?"("+a.scores[c][b].errorCount+")":""},a.getScoreClass=function(b,c){if(a.scores[c]&&a.scores[c][b]&&1==a.scores[c][b].status)return"green-score";var d="";return a.scores[c]&&a.scores[c][b]&&(d+=a.scores[c][b].errorCount>0?"red-score":"gray-score",0===a.scores[c][b].status&&(d+=" smooth_blink")),d},a.getSubmissionClass=function(a){return 15==a?"draft-submission":!a||0>a||a>10?"pending-submission":1==a?"accepted-submission":2==a?"wa-submission":8==a?"pe-submission":"error-submission"},a.submit=function(){var b=!0;a.submittingProblem=!0,a.submission.code&&0!==a.submission.code.length||(f("O código não pode estar vazio."),b=!1),a.submission.language||(f("Você deve selecionar uma linguagem."),b=!1),a.submission.problem||(f("Você deve selecionar um problema."),b=!1),b?i.send(a.submission).then(function(b){f("Questão submetida!"),a.submittingProblem=!1,a.submissions.push(b.submission),a.submission.code=a.submission.problem=a.submission.language=null,a.pendingSubmissions[b.submission._id]=!0,a.$$phase||a.$digest()},function(b){f(b),a.submittingProblem=!1}):a.submittingProblem=!1},a.timeline={moment:5256e3,options:{orientation:"horizontal",min:0,max:5256e3,range:"min",change:a.refreshScoreboard,slide:a.timeAndRefreshScoreboard}},t()}]).filter("formatTime",[function(){return function(a,b){var c="",d="";0>a&&(a=-a,d=" para começar");var e=Math.floor(a/60/60),f=Math.floor(a/60)%60,g=a%60;return e>0?(c=e+"hr",(b!==!1||f>0)&&(c=e+"hr e "+f+"min")):c=f>=10?f+"min":f>0?f+"min e "+g+"seg":g+"seg",c+d}}]).filter("formatDuration",[function(){return function(a,b){var c=Math.floor(a/60),d=a%60,e="";return c>0?(e=c+"hr",(d>0||!b)&&(e+=" e "+d+"min"),e):d+"min"}}]).filter("problemSubmitName",[function(){return function(a,b){return"("+"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[b]+") "+a.name}}]),mrtApp.directive("loadingSpinner",function(){return{restrict:"E",scope:{color:"=",width:"=",height:"="},templateUrl:"views/misc/loading-spinner.html"}}),angular.module("AccountService",[]).factory("AccountFactory",["$http","$q","$resource","GlobalFactory",function(a,b,c,d){var e=c("/api/account/register",{name:"@name",surname:"@surname",email:"@email",password:"@password",confirmPassword:"@confirmPassword",username:"@username"}),f=c("/api/account/edit",{name:"@name",surname:"@surname",email:"@email",password:"@password",newPassword:"@newPassword",confirmNewPassword:"@confirmNewPassword",username:"@username"});return{register:d.post.bind(null,e),edit:d.post.bind(null,f)}}]),angular.module("AuthService",[]).factory("AuthFactory",["$http","$q","$resource","GlobalFactory",function(a,b,c,d){var e=c("/api/login",{email:"@email",password:"@password"}),f=c("/api/logout",{});return{login:d.post.bind(null,e),logout:d.get.bind(null,f)}}]),angular.module("CatalogService",[]).factory("CatalogFactory",["$resource","GlobalFactory",function(a,b){var c=a("/api/catalog/update",{keys:"@keys",data:"@data"}),d=a("/api/catalog/get",{keys:"@keys",data:"@data"});return{update:b.post.bind(null,c),get:b.post.bind(null,d)}}]),angular.module("ContestsService",[]).factory("ContestsFactory",["$http","$q","$resource","GlobalFactory",function(a,b,c,d){var e=c("/api/contests/create",{name:"@name",descr:"@descr",startDateTime:"@startDateTime",endDateTime:"@endDateTime",frozenDateTime:"@frozenDateTime",blindDateTime:"@blindDateTime",
contestantType:"@contestantType",password:"@password",confirmPassword:"@confirmPassword",problems:"@problems"}),f=c("/api/contests/get/owner",{}),g=c("/api/contests/get/filter/:filter",{filter:"@filter"});return{create:d.post.bind(null,e),getAllFromLoggedUser:d.get.bind(null,f),getByFilter:d.get.bind(null,g)}}]);var app=angular.module("GlobalService",[]).factory("GlobalFactory",["$q",function(a){return{post:function(b,c){var d=a.defer();return b.save(c,function(a){a.error?d.reject(a.error):d.resolve(a)}),d.promise},get:function(b,c){var d=a.defer();return b.get(c,function(a){a.error?d.reject(a.error):d.resolve(a)}),d.promise}}}]).value("GlobalFlags",{createContest:1}).directive("tooltip",function(){return{restrict:"A",link:function(a,b,c){$(b).hover(function(){$(b).tooltip("show")},function(){$(b).tooltip("hide")})}}}).directive("matchField",[function(){return{require:"ngModel",link:function(a,b,c,d){var e=function(a){var b=c.matchField;return b!=a?(d.$setValidity("matchField",!1),a):(d.$setValidity("matchField",!0),a)};c.$observe("matchField",function(a){return e(d.$viewValue)}),d.$parsers.unshift(function(a){return e(a)}),d.$formatters.unshift(function(a){return e(a)})}}}]);angular.module("ProblemsService",[]).factory("ProblemsFactory",["$http","$resource","$q","GlobalFactory",function(a,b,c,d){var e=b("/api/problems/fetch",{regex:"@regex",problems:"@problems"});return{fetch:d.post.bind(null,e)}}]),angular.module("SingleContestService",[]).factory("SingleContestFactory",["$http","$q","$resource","GlobalFactory",function(a,b,c,d){var e=c("/api/contest/:id/remove",{}),f=c("/api/contest/:id/get/full",{}),g=c("/api/contest/:id/join",{id:"@id",password:"@password",team:"@team"}),h=c("/api/contest/:id/leave",{id:"@id"}),i=c("/api/contest/:id/edit",{id:"@id",name:"@name",descr:"@descr",startDateTime:"@startDateTime",endDateTime:"@endDateTime",frozenDateTime:"@frozenDateTime",blindDateTime:"@blindDateTime",contestantType:"@contestantType",password:"@password",confirmPassword:"@confirmPassword",problems:"@problems"}),j=c("/api/contest/:id/scoreboard",{}),k=c("/api/contest/:id/scoreboard/dynamic",{});return{remove:d.get.bind(null,e),getFullData:d.get.bind(null,f),join:d.post.bind(null,g),leave:d.post.bind(null,h),edit:d.post.bind(null,i),getScoreboard:d.get.bind(null,j),getDynamicScoreboard:d.get.bind(null,k),getScoreMap:function(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d];if(e.time>b)break;var f=e.contestant,g=e.problem;if(c[f]){c[f][g]=c[f][g]||{errorCount:0};var h=c[f][g];if(1==h.status)continue;h.status=e.verdict,2==h.status?h.errorCount++:1==h.status&&(h.time=e.time)}else c[f]={},c[f][g]={status:e.verdict,errorCount:2==e.verdict?1:0,time:1==e.verdict?e.time:null}}return c},getLeadershipOrder:function(a,b,c){var d=[];for(var e in a){var f=0,g=0;for(var h in b)c[e]&&c[e][h]&&1==c[e][h].status&&(f=f+20*c[e][h].errorCount+c[e][h].time,g++);d.push([g,f,e])}return d.sort(function(a,b){return a[0]!=b[0]?b[0]-a[0]:a[1]!=b[1]?a[1]-b[1]:a[2]<b[2]}),d}}}]),angular.module("SubmissionService",[]).factory("SubmissionFactory",["$http","$q","$resource","GlobalFactory",function(a,b,c,d){var e=c("/api/submission/send",{contestId:"@contestId",code:"@code",problem:"@problem",language:"@language"}),f=c("/api/submission/get/:id",{});return{send:d.post.bind(null,e),get:d.get.bind(null,f)}}]),angular.module("TagService",[]).factory("TagFactory",["$resource","GlobalFactory",function(a,b){var c=a("/api/tags"),d=a("/api/tags/create/:name",{name:"@name"});return{getTags:b.get.bind(null,c),create:b.get.bind(null,d)}}]),angular.module("TeamService",[]).factory("TeamFactory",["$http","$q","$resource","GlobalFactory",function(a,b,c,d){var e=c("/api/team/create",{name:"@name"}),f=c("/api/team/user/:id",{id:"@id"}),g=c("/api/team/leave",{id:"@id"}),h=c("/api/team/get/:id",{id:"@id"}),i=c("/api/team/invite",{id:"@id",invitee:"@invitee"}),j=c("/api/team/remove",{id:"@id",removee:"@removee"}),k=c("/api/team/accept/:id",{id:"@id"}),l=c("/api/team/decline/:id",{id:"@id"}),m=c("/api/team/edit",{id:"@id",name:"@name",descr:"@descr"});return{create:d.post.bind(null,e),getFromUser:d.get.bind(null,f),leave:d.post.bind(null,g),get:d.get.bind(null,h),invite:d.post.bind(null,i),remove:d.post.bind(null,j),accept:d.get.bind(null,k),decline:d.get.bind(null,l),edit:d.post.bind(null,m)}}]),angular.module("UtilService",[]).factory("UtilFactory",["$http","$q","$resource","GlobalFactory",function(a,b,c,d){var e=c("/api/picture/:email/:size",{email:"@email",size:"@size"});return{getProfilePicByEmail:d.get.bind(null,e)}}]),$(document).click(function(a){var b=$(".popover-inner").parent();$(a.target).is(".join-contest-icon")?b.hasClass("in")&&b.removeClass("in"):0===b.has(a.target).length&&b.removeClass("in")}),angular.module("mrtApp.templates",[]).run(["$templateCache",function(a){a.put("views/contests/create.html",'<h2 class="page-title col-md-offset-4">Criar Competição</h2>\n<div class=container-fluid>\n  <form name=createContestForm novalidate>\n    <div class=row>\n      <div class=col-md-3>\n        <table class="table table-striped">\n          <thead>\n            <tr>\n              <th>\n                Problemas&nbsp;<i class="fa fa-question-circle" tooltip-placement=right tooltip="Exemplos: \'UVa 100\', \'URI 1099\', \'ZAK GALOU\', \'A+B Problem\'. Online Judges disponíveis: UVa, LiveArchive, URI, Spoj, SpojBR e Timus."></i>\n              </th>\n            </tr>\n          </thead>\n          <tbody ui-sortable ng-model=problems>\n            <tr class=contest-draggable-problem ng-repeat="problem in problems">\n              <td>\n                <div class=balloon>\n                  <img ng-src=/imgs/baloes/{{$index}}.png class="balloon-image">\n                  <a ng-href={{problem.url}} target=_blank class=balloon-label>{{alphabet[$index]}}</a>\n                </div>\n                {{problem.name}}\n                <a href=# ng-click=removeProblem(problem.id) class=contest-remove-problem><i class="fa fa-times"></i></a>\n              </td>\n            </tr>\n          </tbody>\n          <tbody>\n            <tr ng-form=fetchProblemsForm style="display: block; margin-bottom: 70px">\n              <td>\n                <div class=dropdown>\n                  <input class="form-control dropdown-toggle" id=dropdownProblems2 data-toggle=dropdown placeholder="Inserir Problema" ng-model=problemRegex ng-change=fetch()>\n                  <ul class="dropdown-menu contest-dropdown-problems" aria-labelledby=dropdownProblems2>\n                    <li ng-repeat="p in fetchedProblems">\n                      <a href=# ng-click=addProblem(p)>{{p.name}}</a>\n                    </li>\n                  </ul>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=col-md-6>\n        <table class=create-contest-table>\n          <tbody>\n            <tr>\n              <td>Nome:</td>\n              <td colspan=2>\n                <input class=form-control ng-model=name name=name placeholder="Nome *" ng-maxlength=100 required>\n              </td>\n            </tr>\n            <tr>\n              <td>Início</td>\n              <td class=calendar-area>\n                <input name=startDate class="calendar-text form-control" datepicker-popup=dd-MMMM-yyyy ng-model=startDateTime min-date=minDate max-date=maxDate is-open=opened show-weeks=false current-text=Hoje clear-text=Limpar close-text=Fechar ng-required=true readonly>\n                <button class=calendar-icon ng-click=open()><i class="fa fa-lg fa-calendar"></i></button>\n              </td>\n              <td><timepicker name=startTime ng-model=startDateTime minute-step=5 show-meridian=ismeridian show-spinners=false gt-date={{startDateTime}}></timepicker></td>\n            </tr>\n            <tr>\n              <td>Duração</td>\n              <td class=duration-area>\n                <input type=number ng-keyup=updateEndDateTime() class="duration-number form-control" ng-model=hours name=hours required>\n                <span class=duration-text>horas</span>\n              </td>\n              <td class=duration-area>\n                <input type=number ng-keyup=updateEndDateTime() class="duration-number form-control" ng-model=minutes name=minutes required>\n                <span class=duration-text>minutos</span>\n              </td>\n              <td></td>\n            </tr>\n            <tr>\n              <td>Frozen&nbsp;<span class=question-mark data-toggle=tooltip title="O Frozen congela o placar, de forma que você não pode ver o resultado das submissões de outros competidores. Se você define 1 hora de Frozen, por exemplo, significa que a última hora da competição será Frozen." tooltip><sup><i class="fa fa-question-circle"></i></sup></span></td>\n              <td class=duration-area>\n                <input type=number ng-keyup=updateFrozen() on-click=updateFrozen() class="duration-number form-control" ng-model=frozenHours required>\n                <span class=duration-text>horas</span>\n              </td>\n              <td class=duration-area>\n                <input type=number ng-keyup=updateFrozen() on-click=updateFrozen() class="duration-number form-control" ng-model=frozenMinutes required>\n                <span class=duration-text>minutos</span>\n              </td>\n              <td></td>\n            </tr>\n            <tr>\n              <td>Blind&nbsp;<span class=question-mark data-toggle=tooltip title="O Blind congela o placar e o resultado de suas submissões. Se você define 15 minutos de Blind, por exemplo, significa que os últimos 15 minutos da competição serão Blind." tooltip><sup><i class="fa fa-question-circle"></i></sup></span></td>\n              <td class=duration-area>\n                <input type=number ng-keyup=updateBlind() class="duration-number form-control" ng-model=blindHours required>\n                <span class=duration-text>horas</span>\n              </td>\n              <td class=duration-area>\n                <input type=number ng-keyup=updateBlind() class="duration-number form-control" ng-model=blindMinutes required>\n                <span class=duration-text>minutos</span>\n              </td>\n              <td></td>\n            </tr>\n            <tr ng-hide=showDescrField>\n              <td></td>\n              <td colspan=2 ng-hide=showDescrField>\n                <a href=# class="create-contest-add-descr pull-right" ng-click="showDescrField = true"><i class="fa fa-plus"></i>&nbsp;opções</a>\n              </td>\n            </tr>\n            <tr ng-show=showDescrField>\n              <td colspan=1 class=col-md-1 style="padding: 0">Acesso&nbsp;<span class=question-mark data-toggle=tooltip title="Diz respeito a forma de se registrar na competição. Público: não exige senha. Privado: exige senha." tooltip><sup><i class="fa fa-question-circle"></i></sup></span></td>\n              <td colspan=4 class=col-md-4 style="padding: 0 10px 0 0">\n                <button popover-template=privatePopover.templateUrl popover-title={{privatePopover.title}} popover-placement=right class="btn btn-default btn-block btn-access popover-trigger-button" ng-click=toggleAccess($event)>{{access}}&nbsp;<i class=fa ng-class="access == \'Privado\' ? \'fa-lock\' : \'fa-unlock\'"></i></button>\n              </td>\n            </tr>\n            <tr ng-show=showDescrField>\n              <td colspan=1 class=col-md-1 style="padding: 0">Competidor&nbsp;<span class=question-mark data-toggle=tooltip title="Diz respeito aos tipos de competidores que podem participar: apenas individual, apenas time ou ambos." tooltip><sup><i class="fa fa-question-circle"></i></sup></span></td>\n              <td colspan=4 class=col-md-4 style="padding: 0 10px 0 0">\n                <select class=form-control ng-model=contestantType>\n                  <option value=1>Individual</option>\n                  <option value=2>Time</option>\n                  <option value=3>Individual ou Time</option>\n                </select>\n              </td>\n            </tr>\n            <tr ng-show=showDescrField>\n              <td colspan=1 class=col-md-1 style="padding: 0">Espectador&nbsp;<span class=question-mark data-toggle=tooltip title="Quem pode visualizar a competição (placar, participantes, problemas...). Geral: qualquer pessoa. Participantes: apenas os que estão registrados na competição." tooltip><sup><i class="fa fa-question-circle"></i></sup></span></td>\n              <td colspan=4 class=col-md-4 style="padding: 0 10px 0 0">\n                <div class="btn-group btn-group-justified" style="border-spacing: 0px">\n                  <label class="btn btn-default" ng-model=watchPrivate btn-radio=0>Geral&nbsp;<i class="fa fa-globe"></i></label>\n                  <label class="btn btn-default" ng-model=watchPrivate btn-radio=1>Participantes&nbsp;<i class="fa fa-user-secret"></i></label>\n                </div>\n              </td>\n            </tr>\n            <tr>\n              <td colspan=5><button type=button ng-click=create() class="btn btn-default btn-block" ng-class="{\'disabled\': loadingCreate}" style="margin:15px 0 30px">Criar</button></td>\n            </tr>\n          </tbody>\n        </table>\n        <script type=text/ng-template id=private-contest-password.html>\n          <div class="form-group" style="width: 150px;">\n            <input style="margin-bottom: 6px;" type="password" ng-model="$parent.password" class="form-control" placeholder="Senha">\n            <input type="password" ng-model="$parent.confirmPassword" class="form-control" placeholder="Confirme a senha">\n          </div>\n        </script>\n      </div>\n      <div class=col-md-2>\n        <table class=create-contest-table>\n          <thead>\n            <tr>\n              <th>Informações</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td ng-if="createContestForm.startDate.$error.required || createContestForm.startDate.$error.date">\n                <span class=contest-date-text>Formato inválido de data.</span>\n              </td>\n              <td ng-if="!(createContestForm.startDate.$error.required || createContestForm.startDate.$error.date) && createContestForm.startTime.$error.gtDate">\n                <span class=contest-date-text>A competição deve ocorrer no futuro.</span>\n              </td>\n              <td ng-if="!(createContestForm.startDate.$error.required || createContestForm.startDate.$error.date) && !createContestForm.startTime.$error.gtDate">\n                <span class=contest-date-text>começa <span>{{startDateTime | date:\'fullDate\' }} às {{startDateTime | date:\'shortTime\' }}</span></span>\n              </td>\n            </tr>\n            <tr ng-hide="createContestForm.startDate.$error.required || createContestForm.startDate.$error.date || createContestForm.startTime.$error.gtDate">\n              <td ng-if=!validDuration>\n                <span class=contest-date-text>A competição deve ter ao menos 10 minutos de duração.</span>\n              </td>\n              <td ng-if=validDuration>\n                <span class=contest-date-text>termina <span>{{endDateTime | date:\'fullDate\' }} às {{endDateTime | date:\'shortTime\' }}</span>&nbsp;({{duration | formatDuration : true}} de duração)</span>\n              </td>\n            </tr>\n            <tr ng-hide="createContestForm.startDate.$error.required || createContestForm.startDate.$error.date || createContestForm.startTime.$error.gtDate || !validDuration">\n              <td ng-if="frozenDuration <= 0">\n                <span class=contest-date-text>Não haverá modo Frozen.</span>\n              </td>\n              <td ng-if="frozenDuration > 0">\n                <span class=contest-date-text>o Frozen iniciará <span>{{frozenDateTime | date:\'fullDate\' }} às {{frozenDateTime | date:\'shortTime\' }}</span></span>\n              </td>\n            </tr>\n            <tr ng-hide="createContestForm.startDate.$error.required || createContestForm.startDate.$error.date || createContestForm.startTime.$error.gtDate || !validDuration">\n              <td ng-if="blindDuration <= 0">\n                <span class=contest-date-text>Não haverá modo Blind.</span>\n              </td>\n              <td ng-if="blindDuration > 0">\n'+"                <span class=contest-date-text>o Blind iniciará <span>{{blindDateTime | date:'fullDate' }} às {{blindDateTime | date:'shortTime' }}</span></span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </form>\n</div>"),a.put("views/contests/edit.html",'<h2 class="page-title col-md-offset-4">Editar Competição</h2>\n<div class=container-fluid>\n  <form name=createContestForm novalidate>\n    <div class=row>\n      <div class=col-md-3>\n        <table class="table table-striped">\n          <thead>\n            <tr>\n              <th>\n                Problemas\n              </th>\n            </tr>\n          </thead>\n          <tbody ui-sortable="{\'disabled\': hasStarted}" ng-model=problems>\n            <tr ng-class="{\'contest-draggable-problem\': !hasStarted}" ng-repeat="problem in problems">\n              <td>\n                <div class=balloon>\n                  <img ng-src=/imgs/baloes/{{$index}}.png class="balloon-image">\n                  <a ng-href={{problem.url}} target=_blank class=balloon-label>{{alphabet[$index]}}</a>\n                </div>\n                {{problem.name}}\n                <a href=# ng-if=!hasStarted ng-click=removeProblem(problem.id) class=contest-remove-problem><i class="fa fa-times"></i></a>\n              </td>\n            </tr>\n          </tbody>\n          <tbody ng-show=!hasStarted>\n            <tr ng-form=fetchProblemsForm>\n              <td>\n                <div class=dropdown>\n                  <input class="form-control dropdown-toggle" id=dropdownProblems2 data-toggle=dropdown placeholder="Inserir Problema" ng-model=problemRegex ng-change=fetch()>\n                  <ul class="dropdown-menu contest-dropdown-problems" aria-labelledby=dropdownProblems2>\n                    <li ng-repeat="p in fetchedProblems">\n                      <a href=# ng-click=addProblem(p)>{{p.name}}</a>\n                    </li>\n                  </ul>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=col-md-6>\n        <table class=create-contest-table>\n          <tbody>\n            <tr>\n              <td>Nome:</td>\n              <td colspan=2>\n                <input class=form-control ng-model=name name=name placeholder="Nome *" ng-maxlength=100 required>\n              </td>\n            </tr>\n            <tr>\n              <td>Início</td>\n              <td class=calendar-area>\n                <input ng-class="hasStarted ? \'calendar-disabled\' : \'calendar-text\'" name=startDate class=form-control datepicker-popup=dd-MMMM-yyyy ng-model=startDateTime min-date=minDate max-date=maxDate is-open=opened show-weeks=false current-text=Hoje clear-text=Limpar close-text=Fechar ng-required=true readonly>\n                <button ng-if=!hasStarted class=calendar-icon ng-click=open()><i class="fa fa-lg fa-calendar"></i></button>\n              </td>\n              <td><timepicker ng-class="{\'timepicker-disabled\': hasStarted}" name=startTime ng-model=startDateTime minute-step=5 show-meridian=ismeridian show-spinners=false gt-date-edit={{startDateTime}}></timepicker></td>\n            </tr>\n            <tr>\n              <td>Duração</td>\n              <td class=duration-area>\n                <input type=number ng-keyup=updateEndDateTime() class="duration-number form-control" ng-model=hours name=hours required>\n                <span class=duration-text>horas</span>\n              </td>\n              <td class=duration-area>\n                <input type=number ng-keyup=updateEndDateTime() class="duration-number form-control" ng-model=minutes name=minutes required>\n                <span class=duration-text>minutos</span>\n              </td>\n              <td></td>\n            </tr>\n            <tr>\n              <td>Frozen&nbsp;<span class=question-mark data-toggle=tooltip title="O Frozen congela o placar, de forma que você não pode ver o resultado das submissões de outros competidores. Se você define 1 hora de Frozen, por exemplo, significa que a última hora da competição será Frozen." tooltip><sup><i class="fa fa-question-circle"></i></sup></span></td>\n              <td class=duration-area>\n                <input type=number ng-keyup=updateFrozen() on-click=updateFrozen() class="duration-number form-control" ng-model=frozenHours required>\n                <span class=duration-text>horas</span>\n              </td>\n              <td class=duration-area>\n                <input type=number ng-keyup=updateFrozen() on-click=updateFrozen() class="duration-number form-control" ng-model=frozenMinutes required>\n                <span class=duration-text>minutos</span>\n              </td>\n              <td></td>\n            </tr>\n            <tr>\n              <td>Blind&nbsp;<span class=question-mark data-toggle=tooltip title="O Blind congela o placar e o resultado de suas submissões. Se você define 15 minutos de Blind, por exemplo, significa que os últimos 15 minutos da competição serão Blind." tooltip><sup><i class="fa fa-question-circle"></i></sup></span></td>\n              <td class=duration-area>\n                <input type=number ng-keyup=updateBlind() class="duration-number form-control" ng-model=blindHours required>\n                <span class=duration-text>horas</span>\n              </td>\n              <td class=duration-area>\n                <input type=number ng-keyup=updateBlind() class="duration-number form-control" ng-model=blindMinutes required>\n                <span class=duration-text>minutos</span>\n              </td>\n              <td></td>\n            </tr>\n            <tr>\n              <td colspan=1 class=col-md-1 style="padding: 0">Acesso&nbsp;<span class=question-mark data-toggle=tooltip title="Diz respeito a forma de se registrar na competição. Público: não exige senha. Privado: exige senha." tooltip><sup><i class="fa fa-question-circle"></i></sup></span></td>\n              <td colspan=4 class=col-md-4 style="padding: 0 10px 0 0">\n                <button popover-template=privatePopover.templateUrl popover-title={{privatePopover.title}} popover-placement=right class="btn btn-default btn-block btn-access popover-trigger-button" ng-click=toggleAccess($event)>{{access}}&nbsp;<i class=fa ng-class="access == \'Privado\' ? \'fa-lock\' : \'fa-unlock\'"></i></button>\n              </td>\n            </tr>\n            <tr>\n              <td colspan=1 class=col-md-1 style="padding: 0">Competidor&nbsp;<span class=question-mark data-toggle=tooltip title="Diz respeito aos tipos de competidores que podem participar: apenas individual, apenas time ou ambos." tooltip><sup><i class="fa fa-question-circle"></i></sup></span></td>\n              <td colspan=4 class=col-md-4 style="padding: 0 10px 0 0">\n                <select class=form-control ng-model=contestantType>\n                  <option value=1>Individual</option>\n                  <option value=2>Time</option>\n                  <option value=3>Individual ou Time</option>\n                </select>\n              </td>\n            </tr>\n            <tr>\n              <td colspan=1 class=col-md-1 style="padding: 0">Espectador&nbsp;<span class=question-mark data-toggle=tooltip title="Quem pode visualizar a competição (placar, participantes, problemas...). Geral: qualquer pessoa. Participantes: apenas os que estão registrados na competição." tooltip><sup><i class="fa fa-question-circle"></i></sup></span></td>\n              <td colspan=4 class=col-md-4 style="padding: 0 10px 0 0">\n                <div class="btn-group btn-group-justified" style="border-spacing: 0px">\n                  <label class="btn btn-default" ng-model=watchPrivate btn-radio=0>Geral&nbsp;<i class="fa fa-globe"></i></label>\n                  <label class="btn btn-default" ng-model=watchPrivate btn-radio=1>Participantes&nbsp;<i class="fa fa-user-secret"></i></label>\n                </div>\n              </td>\n            </tr>\n            <tr>\n              <td colspan=5><button type=button ng-click=edit() class="btn btn-default btn-block" ng-class="{\'disabled\': loadingCreate}" style="margin:15px 0 30px">Editar</button></td>\n            </tr>\n          </tbody>\n        </table>\n        <script type=text/ng-template id=private-contest-password.html>\n          <div class="form-group" style="width: 150px;">\n            <input style="margin-bottom: 6px;" type="password" ng-model="$parent.password" class="form-control" placeholder="Senha">\n            <input type="password" ng-model="$parent.confirmPassword" class="form-control" placeholder="Confirme a senha">\n          </div>\n        </script>\n      </div>\n      <div class=col-md-2>\n        <table class=create-contest-table>\n          <thead>\n            <tr>\n              <th>Informações</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td ng-if="!hasStarted && createContestForm.startDate.$error.required || createContestForm.startDate.$error.date">\n                <span class=contest-date-text>Formato inválido de data.</span>\n              </td>\n              <td ng-if="!hasStarted && !(createContestForm.startDate.$error.required || createContestForm.startDate.$error.date) && createContestForm.startTime.$error.gtDateEdit">\n                <span class=contest-date-text>A competição deve ocorrer no futuro.</span>\n              </td>\n              <td ng-if="!hasStarted && !(createContestForm.startDate.$error.required || createContestForm.startDate.$error.date) && !createContestForm.startTime.$error.gtDateEdit">\n                <span class=contest-date-text>começa <span>{{startDateTime | date:\'fullDate\' }} às {{startDateTime | date:\'shortTime\' }}</span></span>\n              </td>\n              <td ng-if=hasStarted>\n                <span class=contest-date-text>começou <span>{{startDateTime | date:\'fullDate\' }} às {{startDateTime | date:\'shortTime\' }}</span></span>\n              </td>\n            </tr>\n            <tr ng-hide="!hasStarted && (createContestForm.startDate.$error.required || createContestForm.startDate.$error.date || createContestForm.startTime.$error.gtDateEdit)">\n              <td ng-if=!validDuration>\n                <span class=contest-date-text>A competição deve ter ao menos 10 minutos de duração.</span>\n              </td>\n              <td ng-if=validDuration>\n                <span class=contest-date-text>termina <span>{{endDateTime | date:\'fullDate\' }} às {{endDateTime | date:\'shortTime\' }}</span></span>\n              </td>\n            </tr>\n            <tr ng-hide="createContestForm.startDate.$error.required || createContestForm.startDate.$error.date || createContestForm.startTime.$error.gtDateEdit || !validDuration">\n              <td ng-if="frozenDuration <= 0">\n                <span class=contest-date-text>Não haverá modo Frozen.</span>\n              </td>\n              <td ng-if="frozenDuration > 0">\n                <span class=contest-date-text>o Frozen inicia <span>{{frozenDateTime | date:\'fullDate\' }} às {{frozenDateTime | date:\'shortTime\' }}</span></span>\n              </td>\n            </tr>\n            <tr ng-hide="createContestForm.startDate.$error.required || createContestForm.startDate.$error.date || createContestForm.startTime.$error.gtDate || !validDuration">\n              <td ng-if="blindDuration <= 0">\n                <span class=contest-date-text>Não haverá modo Blind.</span>\n              </td>\n              <td ng-if="blindDuration > 0">\n'+"                <span class=contest-date-text>o Blind inicia <span>{{blindDateTime | date:'fullDate' }} às {{blindDateTime | date:'shortTime' }}</span></span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </form>\n</div>"),a.put("views/contests/open.html",'<h2 class="page-title col-md-offset-4">Competições</h2>\n<h4 class="page-title col-md-offset-1">Acontecendo</h4>\n<div class=row>\n  <div class="col-md-offset-1 col-md-8">\n    <table class="table table-striped">\n      <thead>\n        <tr>\n          <th class=col-md-3><a href=# ng-click="order(\'name\')">Nome</a></th>\n          <th class=col-md-2><a href=# ng-click="order(\'date_start\')">Início</a></th>\n          <th class=col-md-1><a href=# ng-click="order(\'duration\')">Duração</a></th>\n          <th class=col-md-1 style="text-align: center">Tipo</th>\n          <th class=col-md-1 style="text-align: center">Acesso</th>\n          <th ng-if=$root.user class=col-md-1 style="text-align: center">Ações</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-if="(currentContests = (contests | filter:not(futureContestFilter))) && currentContests.length == 0"><td colspan=6><span style="font-style: italic">Nenhuma competição acontecendo.</span></td></tr>\n        <tr class=animation ng-repeat="contest in contests | orderBy:predicate:reverse | filter:not(futureContestFilter)">\n          <td>\n            <span ng-if="!contest.isAdmin && contest.watchPrivate && !contest.isInContest">{{contest.name}}</span>\n            <a ng-if="contest.isAdmin || !contest.watchPrivate || contest.isInContest" ng-href=contest/{{contest._id}}>{{contest.name}}</a>\n            <span ng-if=contest.isAdmin class=team-admin>&nbsp;(admin)</span>\n          </td>\n          <td>{{contest.date_start | amDateFormat:\'ddd, D/MMM/YYYY, HH:mm\'}}</td>\n          <td>{{contest.duration | formatTime : false}}</td>\n          <td class=contests-view-table-td>\n            <i class="fa fa-user contests-view-table-icon" ng-if="contest.contestantType != \'2\'" data-toggle=tooltip title="Perfis individuais podem participar." tooltip></i>\n            <i class="fa fa-users contests-view-table-icon" ng-if="contest.contestantType != \'1\'" data-toggle=tooltip title="Times podem participar." tooltip></i>\n          </td>\n          <td class=contests-view-table-td>\n            <i class="fa fa-lock contests-view-table-icon" ng-if=contest.isPrivate data-toggle=tooltip title="Possui senha para se registrar." tooltip></i>\n            <i class="fa fa-unlock contests-view-table-icon" ng-if=!contest.isPrivate data-toggle=tooltip title="Não possui senha para se registrar." tooltip></i>\n            <i class="fa fa-user-secret contests-view-table-icon" ng-if=contest.watchPrivate data-toggle=tooltip title="Apenas quem está registrado pode entrar no link." tooltip></i>\n            <i class="fa fa-globe contests-view-table-icon" ng-if=!contest.watchPrivate data-toggle=tooltip title="Qualquer um pode entrar no link." tooltip></i>\n          </td>\n          <td ng-if=$root.user class=contests-view-table-td>\n            <a class=join-contest-button href=# ng-hide=contest.isInContest ng-click=setJoinContestData(contest)><i class="fa fa-user-plus contests-view-table-icon join-contest-icon" data-toggle=tooltip title=Participar. tooltip></i>\n            <a ng-show="contest.isInContest && isInFuture(contest.date_start)" href=# confirmed-click=leave(contest) style="color: #F66"><i class="fa fa-user-times contests-view-table-icon" data-toggle=tooltip title="Sair da competição (só possível enquanto ela não começa)." tooltip></i></a>\n            <a ng-show=contest.isAdmin ng-href=contest/{{contest._id}}/edit><i class="fa fa-cog contests-view-table-icon" data-toggle=tooltip title=Editar. tooltip></i></a>\n            <a ng-show=contest.isAdmin href=# confirmed-click=remove(contest._id)><i class="fa fa-times contests-view-table-icon" data-toggle=tooltip title=Excluir. tooltip></i></a>\n          </a></td>\n        </tr>\n      </tbody>\n    </table>\n    <h4 class=page-title>Próximas</h4>\n    <table class="table table-striped">\n      <thead>\n        <tr>\n          <th class=col-md-3><a href=# ng-click="order(\'name\')">Nome</a></th>\n          <th class=col-md-2><a href=# ng-click="order(\'date_start\')">Início</a></th>\n          <th class=col-md-1><a href=# ng-click="order(\'duration\')">Duração</a></th>\n          <th class=col-md-1 style="text-align: center">Tipo</th>\n          <th class=col-md-1 style="text-align: center">Acesso</th>\n          <th ng-if=$root.user class=col-md-1 style="text-align: center">Ações</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-if="(futureContests = (contests | filter:futureContestFilter)) && futureContests.length == 0"><td colspan=6><span style="font-style: italic">Nenhuma competição futura.</span></td></tr>\n        <tr class=animation ng-repeat="contest in futureContests = (contests | orderBy:predicate:reverse | filter:futureContestFilter)">\n          <td>\n            <span ng-if="!contest.isAdmin && contest.watchPrivate && !contest.isInContest">{{contest.name}}</span>\n            <a ng-if="contest.isAdmin || !contest.watchPrivate || contest.isInContest" ng-href=contest/{{contest._id}}>{{contest.name}}</a>\n            <span ng-if=contest.isAdmin class=team-admin>&nbsp;(admin)</span>\n          </td>\n          <td>{{contest.date_start | amDateFormat:\'ddd, D/MMM/YYYY, HH:mm\'}}</td>\n          <td>{{contest.duration | formatTime : false}}</td>\n          <td class=contests-view-table-td>\n            <i class="fa fa-user contests-view-table-icon" ng-if="contest.contestantType != \'2\'" data-toggle=tooltip title="Perfis individuais podem participar." tooltip></i>\n            <i class="fa fa-users contests-view-table-icon" ng-if="contest.contestantType != \'1\'" data-toggle=tooltip title="Times podem participar." tooltip></i>\n          </td>\n          <td class=contests-view-table-td>\n            <i class="fa fa-lock contests-view-table-icon" ng-if=contest.isPrivate data-toggle=tooltip title="Possui senha para se registrar." tooltip></i>\n            <i class="fa fa-unlock contests-view-table-icon" ng-if=!contest.isPrivate data-toggle=tooltip title="Não possui senha para se registrar." tooltip></i>\n            <i class="fa fa-user-secret contests-view-table-icon" ng-if=contest.watchPrivate data-toggle=tooltip title="Apenas quem está registrado pode entrar no link." tooltip></i>\n            <i class="fa fa-globe contests-view-table-icon" ng-if=!contest.watchPrivate data-toggle=tooltip title="Qualquer um pode entrar no link." tooltip></i>\n          </td>\n          <td ng-if=$root.user class=contests-view-table-td>\n            <a class=join-contest-button href=# ng-hide=contest.isInContest ng-click=setJoinContestData(contest)><i class="fa fa-user-plus contests-view-table-icon join-contest-icon" data-toggle=tooltip title=Participar. tooltip></i>\n            <a ng-show="contest.isInContest && isInFuture(contest.date_start)" href=# confirmed-click=leave(contest) style="color: #F66"><i class="fa fa-user-times contests-view-table-icon" data-toggle=tooltip title="Sair da competição (só possível enquanto ela não começa)." tooltip></i></a>\n            <a ng-show=contest.isAdmin ng-href=contest/{{contest._id}}/edit><i class="fa fa-cog contests-view-table-icon" data-toggle=tooltip title=Editar. tooltip></i></a>\n            <a ng-show=contest.isAdmin href=# confirmed-click=remove(contest._id)><i class="fa fa-times contests-view-table-icon" data-toggle=tooltip title=Excluir. tooltip></i></a>\n          </a></td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class=col-md-3>\n    <div collapse=isCollapsed>\n      <div class="well well-md">\n        <h4 style="margin-top: 5px">{{curContest.name}}</h4>\n        <form name=joinContestForm>\n          <div class=form-group style="width: 100%">\n            <input ng-if=curContest.isPrivate style="margin-bottom: 6px" type=password ng-model=joinContest.password class=form-control placeholder=Senha>\n            <div ng-show="curContest.contestantType == \'2\'">\n              <p>Escolha um time&nbsp;<i class="fa fa-question-circle" tooltip-placement=left tooltip="Como um perfil pode estar vinculado a times diferentes, você se registrar na competição com um time X não irá automaticamente adicionar os outros membros do time X na competição. Para isso, cada membro deve individualmente se cadastrar informando o time que quer representar (ou se quer competir individualmente). Note que você pode competir sozinho representando o time."></i></p>\n              <select class=form-control ng-model=joinContest.team ng-options="team.id as team.name for team in teams"></select>\n            </div>\n            <div ng-show="curContest.contestantType == \'3\' || !curContest.contestantType">\n              <p>Escolha entre competir individualmente ou em time&nbsp;<i class="fa fa-question-circle" tooltip-placement=left tooltip="Como um perfil pode estar vinculado a times diferentes, você se registrar na competição com um time X não irá automaticamente adicionar os outros membros do time X na competição. Para isso, cada membro deve individualmente se cadastrar informando o time que quer representar (ou se quer competir individualmente). Note que você pode competir sozinho representando o time."></i></p>\n              <select class=form-control ng-model=joinContest.team ng-options="team.id as team.name for team in teamsAndSingle"></select>\n            </div>\n            <button type=button ng-click=join() class="btn btn-default btn-block" ng-class="{\'disabled\': loadingJoin}" style=margin-top:15px>Participar</button>\n          </div>\n        </form>\n      </div> \n    </div>\n  </div>\n</div>'),
a.put("views/contests/owner.html",'<h2 class="page-title col-md-offset-4">Competições Criadas</h2>\n<div class=row>\n  <div class="col-md-offset-1 col-md-8">\n    <table class="table table-striped">\n      <thead>\n        <tr>\n          <th class=col-md-3><a href=# ng-click="order(\'name\')">Nome</a></th>\n          <th class=col-md-2><a href=# ng-click="order(\'date_start\')">Início</a></th>\n          <th class=col-md-1><a href=# ng-click="order(\'duration\')">Duração</a></th>\n          <th class=col-md-1 style="text-align: center">Tipo</th>\n          <th class=col-md-1 style="text-align: center">Acesso</th>\n          <th class=col-md-1 style="text-align: center">Ações</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr class=animation ng-repeat="contest in contests | orderBy:predicate:reverse">\n          <td><a ng-href=contest/{{contest._id}}>{{contest.name}}</a><sup ng-if=isNewContest(contest.date_created) style="color: #F55; font-size: 8px">&nbsp;NOVA</sup></td>\n          <td>{{contest.date_start | amDateFormat:\'ddd, D/MMM/YYYY, HH:mm\'}}</td>\n          <td>{{contest.duration | formatTime : false}}</td>\n          <td class=contests-view-table-td>\n            <i class="fa fa-user contests-view-table-icon" ng-if="contest.contestantType != \'2\'" data-toggle=tooltip title="Perfis individuais podem participar." tooltip></i>\n            <i class="fa fa-users contests-view-table-icon" ng-if="contest.contestantType != \'1\'" data-toggle=tooltip title="Times podem participar." tooltip></i>\n          </td>\n          <td class=contests-view-table-td>\n            <i class="fa fa-lock contests-view-table-icon" ng-if=contest.isPrivate data-toggle=tooltip title="Possui senha para se registrar." tooltip></i>\n            <i class="fa fa-unlock contests-view-table-icon" ng-if=!contest.isPrivate data-toggle=tooltip title="Não possui senha para se registrar." tooltip></i>\n            <i class="fa fa-user-secret contests-view-table-icon" ng-if=contest.watchPrivate data-toggle=tooltip title="Apenas quem está registrado pode entrar no link." tooltip></i>\n            <i class="fa fa-globe contests-view-table-icon" ng-if=!contest.watchPrivate data-toggle=tooltip title="Qualquer um pode entrar no link." tooltip></i>\n          </td>\n          <td class=contests-view-table-td>\n            <a ng-hide=isOldDate(contest.date_end) ng-href=contest/{{contest._id}}/edit><i class="fa fa-cog contests-view-table-icon" data-toggle=tooltip title=Editar. tooltip></i></a>\n            <a href=# confirmed-click=remove(contest._id)><i class="fa fa-times contests-view-table-icon" data-toggle=tooltip title=Excluir. tooltip></i></a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>'),a.put("views/contests/past.html",'<h2 class="page-title col-md-offset-4">Competições Passadas</h2>\n<div class=row>\n  <div class="col-md-offset-1 col-md-8">\n    <table class="table table-striped">\n      <thead>\n        <tr>\n          <th class=col-md-3><a href=# ng-click="order(\'name\')">Nome</a></th>\n          <th class=col-md-2><a href=# ng-click="order(\'date_start\')">Início</a></th>\n          <th class=col-md-1><a href=# ng-click="order(\'duration\')">Duração</a></th>\n          <th class=col-md-1 style="text-align: center">Tipo</th>\n          <th class=col-md-1 style="text-align: center">Acesso</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr class=animation ng-repeat="contest in contests | orderBy:predicate:reverse">\n          <td>\n            <span ng-if="!contest.isAdmin && contest.watchPrivate && !contest.isInContest">{{contest.name}}</span>\n            <a ng-if="contest.isAdmin || !contest.watchPrivate || contest.isInContest" ng-href=contest/{{contest._id}}>{{contest.name}}</a>\n            <span ng-if=contest.isAdmin class=team-admin>&nbsp;(admin)</span>\n          </td>\n          <td>{{contest.date_start | amDateFormat:\'ddd, D/MMM/YYYY, HH:mm\'}}</td>\n          <td>{{contest.duration | formatTime : false}}</td>\n          <td class=contests-view-table-td>\n            <i class="fa fa-user contests-view-table-icon" ng-if="contest.contestantType != \'2\'" data-toggle=tooltip title="Perfis individuais podem participar." tooltip></i>\n            <i class="fa fa-users contests-view-table-icon" ng-if="contest.contestantType != \'1\'" data-toggle=tooltip title="Times podem participar." tooltip></i>\n          </td>\n          <td class=contests-view-table-td>\n            <i class="fa fa-lock contests-view-table-icon" ng-if=contest.isPrivate data-toggle=tooltip title="Possui senha para se registrar." tooltip></i>\n            <i class="fa fa-unlock contests-view-table-icon" ng-if=!contest.isPrivate data-toggle=tooltip title="Não possui senha para se registrar." tooltip></i>\n            <i class="fa fa-user-secret contests-view-table-icon" ng-if=contest.watchPrivate data-toggle=tooltip title="Apenas quem está registrado pode entrar no link." tooltip></i>\n            <i class="fa fa-globe contests-view-table-icon" ng-if=!contest.watchPrivate data-toggle=tooltip title="Qualquer um pode entrar no link." tooltip></i>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>'),a.put("views/contests/view.html",'<h4 ng-show="!loadingData && timeLeft > 0" class=pull-left>Tempo: {{progressBarValue | formatTime}}</h4>\n<h4 ng-show="!loadingData && timeLeft <= 0" class=pull-left>Tempo: {{timeline.moment | formatDuration}}</h4>\n<h4 ng-if="timeLeft > 0 && !loadingData && progressBarValue >= 0" class=pull-right>restam {{timeLeft | formatTime}}</h4>\n<p ng-if="timeLeft <= 0 && !loadingData && progressBarValue >= 0" class=pull-right>mostrar upsolving<span class=question-mark data-toggle=tooltip title="Upsolving é uma forma de você poder submeter questões após a competição ter terminado. Porém, não conta para o placar principal." tooltip><sup><i class="fa fa-question-circle"></i></sup></span>&nbsp;<input type=checkbox ng-click=toggleUpsolving()></p>\n<h2 class=page-title style="text-align: center">{{name}}</h2>\n<div ng-show="!loadingData && timeLeft <= 0" id=blue ui-slider=timeline.options ng-model=timeline.moment></div>\n<progressbar ng-hide="loadingData || timeLeft <= 0" style="margin-top: 20px" ng-hide=loadingData ng-class="{\'active\': (timeLeft > 0)}" class=progress-striped value=progressBarValue max=totalDuration type={{barType}}></progressbar>\n<div class="container-fluid table-responsive">\n  <tabset>\n    <tab heading=Placar>\n      <div ng-show=loadingData>\n        <i class="fa fa-spin fa-spinner fa-5x"></i>\n      </div>\n      <table ng-hide=loadingData class=table>\n        <thead>\n          <tr>\n            <th>Rank</th>\n            <th>Nome</th>\n            <th ng-repeat="problem in problemsArray">\n              <div class="balloon balloon-contest">\n                <img ng-src=/imgs/baloes/{{$index}}.png class="balloon-image">\n                <span ng-if="progressBarValue < 0" class=balloon-label>{{alphabet[$index]}}</span>\n                <a ng-if="progressBarValue >= 0" ng-href={{problem.url}} target=_blank class=balloon-label>{{alphabet[$index]}}</a>\n              </div>\n            </th>\n            <th>Tempo</th>\n            <th>Questões</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="o in ord">\n            <td>{{$index+1}}</td>\n            <td>{{contestants[o[2]].name}}</td>\n            <td ng-repeat="problem in problemsArray" class=scoreboard-submission>\n              <span ng-class="\'{{getScoreClass(problem._id, o[2])}}\'">{{getPenalty(problem._id, o[2])}}</span>\n            </td>\n            <td>{{o[1]}}</td>\n            <td>{{o[0]}}</td>\n          </tr>\n        </tbody>\n      </table>\n    </tab>\n    <tab ng-if=inContest heading=Submeter disable="progressBarValue < 0">\n      <div ng-if="timeLeft === 0" class="alert alert-info alert-dismissible" role=alert style=margin-top:10px>\n        <button type=button class=close data-dismiss=alert aria-label=Close><span aria-hidden=true>&times;</span></button>\n        <strong>A competição acabou!</strong> Qualquer submissão feita a partir de agora contará como upsolving - competição que continua rolando após o término da competição principal, mas não conta no placar oficial.\n      </div>\n      <div class=row style="margin-top: 20px">\n        <div class="col-md-6 col-centered">\n          <form name=submitProblemForm>\n            <span>Código</span>\n            <textarea type=text style="height: 500px; margin: 10px 0 80px; resize: vertical" class=form-control ng-model=submission.code name=code></textarea>\n          </form>\n        </div>\n        <div class=col-md-4 style="margin-top: 20px">\n          <table class=create-contest-table>\n            <tbody>\n              <tr>\n                <td colspan=1 class=col-md-1 style="padding: 0">Problema</td>\n                <td colspan=2 class=col-md-2 style="padding: 0 10px 0 0">\n                  <select class=form-control ng-model=submission.problem>\n                    <option ng-value=0>(rascunho)</option>\n                    <option ng-repeat="problem in problemsArray" ng-value=problem._id>{{problem | problemSubmitName : $index}}</option>\n                  </select>\n                </td>\n              </tr>\n              <tr>\n                <td colspan=1 class=col-md-1 style="padding: 0">Linguagem</td>\n                <td colspan=2 class=col-md-2 style="padding: 0 10px 0 0">\n                  <select class=form-control ng-model=submission.language>\n                    <option ng-repeat="(id,name) in languages" ng-value=id>{{name}}</option>\n                  </select>\n                </td>\n              </tr>\n              <tr>\n                <td colspan=3><button type=button ng-click=submit() class="btn btn-default btn-block" ng-class="{\'disabled\': submittingProblem}" style=margin-top:15px>Submeter&nbsp;<i class="fa fa-paper-plane-o"></i></button></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </tab>\n    <tab ng-if=inContest heading=Submissões disable="progressBarValue < 0">\n      <div ng-show=loadingData>\n        <i class="fa fa-spin fa-spinner fa-5x"></i>\n      </div>\n      <div ng-hide=loadingData class=row>\n        <div class=col-md-12>\n          <table class=table>\n            <thead>\n              <tr class="submission-row submission-row-parent">\n                <th>Tempo</th>\n                <th>Questão</th>\n                <th>Linguagem</th>\n                <th>Status</th>\n                <th colspan=5></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="sub in submissions | orderBy: \'-date\'" class=submission-row ng-class="\'{{getSubmissionClass(sub.verdict)}}\'">\n                <td>{{sub.time}}</td>\n                <td>\n                  <div ng-hide=sub.problem style="padding-left: 13px">-</div>\n                  <div class=balloon>\n                    <img ng-src=/imgs/baloes/{{problems[sub.problem].num}}.png class="balloon-image">\n                    <a ng-href={{problems[sub.problem].url}} target=_blank class=balloon-label>{{problems[sub.problem].letter}}</a>\n                  </div>\n                </td>\n                <td>{{languages[sub.language]}}</td>\n                <td>{{verdictName[sub.verdict]}}&nbsp;<i ng-if="getSubmissionClass(sub.verdict) == \'pending-submission\'" class="fa fa-pulse fa-spinner"></i></td>\n                <td colspan=5><a ng-href=/submission/{{sub._id}}><i class="fa fa-eye"></i></a></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </tab>\n    <tab ng-if=inContest heading=Catálogo class=pull-right disable="progressBarValue < 0">\n      <div ng-show=loadingData>\n        <i class="fa fa-spin fa-spinner fa-5x"></i>\n      </div>\n      <div ng-hide=loadingData class=row>\n        <div class=col-md-12 style="margin-bottom: 80px">\n          <table class=table>\n            <thead>\n              <tr>\n                <th class=col-md-1>Questão</th>\n                <th class=col-md-3>Dificuldade</th>\n                <th class=col-md-5>Assunto</th>\n                <th class=col-md-3></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="p in problems">\n                <td>\n                  <div class=balloon>\n                    <img ng-src=/imgs/baloes/{{$index}}.png class="balloon-image">\n                    <a ng-href={{p.url}} target=_blank class=balloon-label>{{p.letter}}</a>\n                  </div>\n                </td>\n                <td><rating class=rating ng-class="{\'rating-unchanged\': !p.rate && !p.hovering}" ng-model=p.rate max=5 ng-change=selectRate(p) on-hover="p.hovering = true" on-leave="p.hovering=false" rating-states=ratingStates></rating></td>\n                <td>\n                  <span class=problem-tag ng-repeat="tag in p.tags">{{tag.name}}&nbsp;<a href=# ng-click=removeTag(tag,p)><i class="fa fa-times contest-remove-problem"></i></a></span>\n                </td>\n                <td><input ng-keyup=insertTag($event,p) ng-model=p.tagSelected typeahead="tag as tag.name for tag in allTags | filter:{name:$viewValue} | filter:notInsertedTags(p) | limitTo:10" ng-change=fixTagInput(p) typeahead-on-select="onSelectTag($item, $model, $label, p)" class=form-control placeholder="Adicionar assunto..."></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </tab>\n  </tabset>\n</div>'),a.put("views/home.html",'<div class="panel panel-default">\n  <div class=panel-heading>Instabilidade Recente<span class=pull-right style="font-style: italic; font-size: 12px">por Gustavo Stor em 7 de agosto de 2015</span></div>\n  <div class=panel-body>\n    <p style=text-align:justify>Peço desculpas pela recente instabilidade do Maratonando. A instância da Amazon que estamos usando para hospedar o servidor era a mais simples, e o servidor não estava preparado para lidar com várias pessoas utilizando o sistema simultaneamente. Fiz uma série de melhorias hoje, e amanhã de manhã testaremos novamente o sistema com uma carga grande de pessoas utilizando simultaneamente. Acho que agora vai :)</p>\n  </div>\n</div>\n<div class="panel panel-default">\n  <div class=panel-heading><i class="fa fa-user-secret"></i>&nbsp;Espectadores&nbsp;<i class="fa fa-globe"></i><span class=pull-right style="font-style: italic; font-size: 12px">por Gustavo Stor em 31 de julho de 2015</span></div>\n  <div class=panel-body>\n    <p style=text-align:justify>Agora é possível definir quem pode assistir as competições - todo mundo <i class="fa fa-globe"></i>, ou apenas quem está registrado <i class="fa fa-user-secret"></i>. Combinando isso com competições privadas, você pode ter competições em que apenas as pessoas com senha podem visualizar :-)</p>\n    <p style=text-align:justify>Algumas outras menores modificações foram feitas para melhorar a organização e entendimento da plataforma.</p>\n  </div>\n</div>\n<div class="panel panel-default">\n  <div class=panel-heading>Edição de competições<span class=pull-right style="font-style: italic; font-size: 12px">por Gustavo Stor em 29 de julho de 2015</span></div>\n  <div class=panel-body>\n    <p style=text-align:justify>A partir de agora, já é possível editar competições depois de criadas :)</p>\n    <p style=text-align:justify>Atentem que você é livre para editar qualquer atributo até que a competição se dê início. Após isso, a modificação de problemas e e a data de início serão bloqueadas.</p>\n  </div>\n</div>\n<div class="panel panel-default">\n  \n  <div class=panel-heading>Sobre o Maratonando<span class=pull-right style="font-style: italic; font-size: 12px">por Gustavo Stor em 18 de julho de 2015</span></div>\n  <div class=panel-body>\n    <p style=text-align:justify>No ensino fundamental e médio existem várias olimpíadas que as escolas incentivam o aluno a participar, como: Olimpíada Brasileira de Matemática (OBM), Olimpíada Brasileira de Física (OBF) e Olimpíada Brasileira de Química (OBQ), para citar algumas. Poucos sabem, porém, que existe a Olimpíada Brasileira de Informática (OBI), a Olimpíada Internacional de Informática (IOI, do inglês International Olympiad in Informatics), e a Competição Internacional de Programação para o Colegiado (ICPC, do inglês International Collegiate Programming Contest), entre várias outras competições virtuais.\n    </p><p style=text-align:justify>O mundo digital está tão em vigor hoje em dia que não é nada improvável que, muito em breve, jovens aprendam a programar na escola. Mas enquanto esse dia não chega, a Web é repleta de oportunidades de preparação para essas competições. Enquanto que na Rússia e na China os alunos são informados desde cedo sobre várias oportunidades que fogem dos assuntos do ensino fundamental e médio, no Brasil não há incentivo algum para o estudante.\n    </p><p style=text-align:justify>Oportunidades de aprendizado na Web não faltam. O Codeforces, plataforma russa, mas com idioma disponível em inglês, promove competições regulares de algoritmos e sempre disponibiliza um editorial com a explicação da resolução dos problemas. O TopCoder é outro exemplo de plataforma de competições relacionadas à computação que também ensina, e ainda paga os melhores competidores. Essas competições fornecem um conjunto de questões, e o participante deve escrever um programa de computador em uma linguagem de sua preferência (geralmente C, C++ ou Java) que resolva esse problema. Enquanto há cerca de 4000 usuários da Rússia e 4500 da China cadastrados no Codeforces, esse número chega a menos de 400 para usuários do Brasil.</p>\n    <p style=text-align:justify>O Maratonando<sup>BETA</sup> é fruto do trabalho de graduação desenvolvido por mim no Centro de Informática, na Universidade Federal de Pernambuco. A aplicação desenvolvida tem por objetivo prover um meio de sistematizar treinos de programação competitiva no Brasil.</p>\n  </div>\n</div>'),a.put("views/login-form.html",'<div id=top-user-area>\n\n<div ng-show=$root.loadingUser>\n  <loading-spinner color="\'#45a7b9\'" width="\'40px\'" height="\'40px\'" style="position: relative; top: 14px; right: 20px">\n  </loading-spinner>\n</div>\n\n<div ng-hide=$root.loadingUser>\n\n  <div ng-hide=$root.user>\n\n      <form>\n          <input id=login-email type=email ng-model=account.email placeholder=Email>\n          <input id=login-password type=password ng-model=account.password placeholder=Senha>\n          <button id=login-submit type=submit ng-click=login() class="btn btn-default">\n            <i class="fa fa-arrow-right"></i>\n          </button>\n      </form>\n\n      <a id=register-btn class="btn btn-icon" href=/register>\n        <span>\n          <i class="fa fa-user"></i>\n        </span>\n        Registre-se\n      </a>\n      \n  </div>\n\n  <div ng-show=$root.user>\n\n    <a id=logout-btn class="btn btn-icon" ng-click=logout()>\n      <span>\n        <i class="fa fa-user"></i>\n      </span>\n      Sair\n    </a>\n\n    <a id=top-user-info href=/profile>\n      <img ng-src="{{ pictureUrl }}">\n      Perfil\n    </a>\n\n  </div>\n</div>\n\n</div>'),a.put("views/misc/loading-spinner.html",'<div class=spinner-loader title=1>\n  <svg version=1.1 id=loader-1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px ng-attr-width={{width}} ng-attr-height={{height}} viewbox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space=preserve>\n  <path fill="{{ color }}" d=M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z>\n    <animatetransform attributetype=xml attributename=transform type=rotate from="0 25 25" to="360 25 25" dur=0.6s repeatcount="indefinite">\n    </path>\n  </svg>\n</div>'),a.put("views/profile.html",'<h2 class="page-title col-md-offset-4">Perfil</h2>\n<div class=container-fluid>\n  <form name=editProfileForm novalidate>\n    <div class=row>\n      <div class="col-md-offset-1 col-md-2">\n        <div ng-show=loadedPictureUrl>\n          <a href="https://br.gravatar.com/" target=_blank><img class=profile-image ng-src={{pictureUrl}}></a>\n        </div>\n        <div ng-hide=loadedPictureUrl>\n          <i style="margin: 10px" class="pull-right fa fa-spinner fa-spin fa-2x"></i>\n        </div>\n      </div>\n      <div class=col-md-4>\n        <table class=profile-table>\n          <tbody>\n            <tr>\n              <td>\n                <input class=form-control ng-model=account.name name=name placeholder=Nome ng-maxlength=100>\n              </td>\n              <td>\n                <input class=form-control ng-model=account.surname name=surname placeholder=Sobrenome ng-maxlength=100>\n              </td>\n            </tr>\n            <tr>\n              <td colspan=2><input type=email class=form-control ng-model=account.email placeholder=Email disabled></td>\n            </tr>\n            <tr>\n              <td colspan=2><input id=usernameInput data-toggle=tooltip title="Este nome aparecerá no placar das competições, quando você competir individualmente." class=form-control ng-model=account.username name=username placeholder="Nome de perfil" ng-maxlength=30 tooltip required></td>\n            </tr>\n            <tr>\n              <td><input type=password class=form-control ng-model=account.newPassword placeholder="Nova senha" data-toggle=tooltip title="Se você deixar em branco, sua senha não será alterada." name=pass ng-maxlength=50 tooltip></td>\n              <td><input type=password class=form-control ng-model=account.confirmNewPassword placeholder="Repita nova senha" name=confirmPass match-field={{account.newPassword}} ng-maxlength=50></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=col-md-3 style="margin-top: 5px">\n        <small style="display: block" class="error ng-hide" ng-show=editProfileForm.name.$error.maxlength>* seu nome pode ter no máximo 100 caracteres.</small>\n        <small style="display: block" class="error ng-hide" ng-show=editProfileForm.surname.$error.maxlength>* seu sobrenome pode ter no máximo 100 caracteres.</small>\n        <small style="display: block" class="error ng-hide" ng-show=editProfileForm.username.$error.maxlength>* seu nome de perfil pode ter no máximo 30 caracteres.</small>\n        <small style="display: block" class="error ng-hide" ng-show=editProfileForm.username.$error.required>* você deve inserir um nome de perfil.</small>\n        <small style="display: block" class="error ng-hide" ng-show="editProfileForm.pass.$error.maxlength || editProfileForm.confirmPass.$error.maxlength">* sua nova senha deve ter no máximo 50 caracteres.</small>\n        <small style="display: block" class="error ng-hide" ng-show=editProfileForm.confirmPass.$error.matchField>* você deve confirmar a senha nova corretamente.</small>\n        <div ng-hide=loadedEditingProfile>\n          <i style="margin-left: -28px; margin-top: 170px; position: absolute" class="fa fa-spinner fa-spin fa-2x"></i>\n        </div>\n      </div>\n    </div>\n    <div class=row>\n      <div class="col-md-4 col-md-offset-3">\n        <div class=input-group>\n          <input type=password class=form-control ng-model=account.password style="margin-left: 5px" placeholder="Senha atual" required>\n          <span class=input-group-btn>\n            <button class="btn btn-default" ng-click=edit() style="margin-right: 5px" type=button ng-disabled="editProfileForm.$invalid || !loadedEditingProfile">Editar Perfil</button>\n          </span>\n        </div>\n      </div>\n    </div>\n  </form>\n  <form name=createTeamForm>\n    <div class=row>\n      <div class="col-md-offset-1 col-md-4">\n        <table class="table table-striped">\n          <thead>\n            <tr>\n              <th colspan=3>\n                <a ng-class="tabSelected==\'teams\' ? \'team-tabs-selected\' : \'team-tabs-unselected\'" ng-click="changeTab(\'teams\')">Times</a>\n                &nbsp;/&nbsp;\n                <a ng-class="tabSelected==\'invites\' ? \'team-tabs-selected\' : \'team-tabs-unselected\'" ng-click="changeTab(\'invites\')">Convites ({{invited.length}})</a>\n              </th>\n            </tr>\n          </thead>\n          <tbody ng-show="tabSelected==\'teams\'">\n            <tr ng-repeat="team in teams" class=animation>\n              <td>{{team.name}}\n                <span ng-if="team.admin == $root.user._id" class=team-admin>(admin)</span>\n              </td>\n              <td><a ng-href=/team/{{team._id}}>Ver<span ng-if="team.admin == $root.user._id">&nbsp;e Editar</span></a></td>\n              <td><a href=# confirmed-click=leaveTeam(team._id)>Sair</a></td>\n            </tr>\n            <tr>\n              <td><input class=form-control ng-model=newTeamName name=newTeamName placeholder="Nome do time" ng-maxlength=30 required></td>\n              <td><button ng-click=createTeam() class=form-control ng-disabled=createTeamForm.$invalid>Criar</button></td>\n              <td></td>\n            </tr>\n          </tbody>\n          <tbody ng-show="tabSelected==\'invites\'">\n            <tr ng-repeat="team in invited" class=animation>\n              <td><a ng-href=/team/{{team._id}}>{{team.name}}</a></td>\n              <td><a href=# ng-click=acceptTeamInvitation(team._id)>Aceitar</a></td>\n              <td><a href=# ng-click=declineTeamInvitation(team._id)>Recusar</a></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </form>\n</div>'),a.put("views/register.html",'<h2 class="page-title col-md-offset-4">Registrar</h2>\n<div class=container-fluid>\n  <form name=registerProfileForm novalidate>\n    <div class=row>\n      <div class="col-md-offset-3 col-md-4">\n        <table class=profile-table>\n          <tbody>\n            <tr>\n              <td>\n                <input class=form-control ng-model=account.name name=name placeholder=Nome ng-maxlength=100>\n              </td>\n              <td>\n                <input class=form-control ng-model=account.surname name=surname placeholder=Sobrenome ng-maxlength=100>\n              </td>\n            </tr>\n            <tr>\n              <td colspan=2><input type=email class=form-control ng-model=account.email name=email placeholder="Email *" required></td>\n            </tr>\n            <tr>\n              <td colspan=2><input id=usernameInput data-toggle=tooltip title="Este nome aparecerá no placar das competições, quando você competir individualmente." class=form-control ng-model=account.username name=username placeholder="Nome de perfil *" ng-maxlength=30 tooltip required></td>\n            </tr>\n            <tr>\n              <td><input type=password class=form-control ng-model=account.password placeholder="Senha *" data-toggle=tooltip name=pass ng-maxlength=50 tooltip required></td>\n              <td><input type=password class=form-control ng-model=account.confirmPassword placeholder="Repita senha *" name=confirmPass match-field={{account.password}} ng-maxlength=50></td>\n            </tr>\n            <tr>\n              <td colspan=2><button type=button ng-click=register() class="btn btn-default btn-block" ng-disabled=registerProfileForm.$invalid>Registrar</button></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=col-md-3 style="margin-top: 5px">\n        <small style="display: block" class="error ng-hide" ng-show=registerProfileForm.name.$error.maxlength>* seu nome pode ter no máximo 100 caracteres.</small>\n        <small style="display: block" class="error ng-hide" ng-show=registerProfileForm.surname.$error.maxlength>* seu sobrenome pode ter no máximo 100 caracteres.</small>\n        <small style="display: block" class="error ng-hide" ng-show=registerProfileForm.username.$error.maxlength>* seu nome de perfil pode ter no máximo 30 caracteres.</small>\n        <small style="display: block" class="error ng-hide" ng-show="registerProfileForm.email.$error.required || registerProfileForm.email.$error.email">* você deve inserir um email válido.</small>\n        <small style="display: block" class="error ng-hide" ng-show=registerProfileForm.username.$error.required>* você deve inserir um nome de perfil.</small>\n        <small style="display: block" class="error ng-hide" ng-show=registerProfileForm.pass.$error.required>* você deve inserir uma senha.</small>\n        <small style="display: block" class="error ng-hide" ng-show="registerProfileForm.pass.$error.maxlength || registerProfileForm.confirmPass.$error.maxlength">* sua senha deve ter no máximo 50 caracteres.</small>\n        <small style="display: block" class="error ng-hide" ng-show=registerProfileForm.confirmPass.$error.matchField>* você deve confirmar a senha corretamente.</small>\n      </div>\n    </div>\n  </form>\n</div>'),a.put("views/submission.html",'<h2 class="page-title col-md-offset-4">Submissão</h2>\n<pre>{{code}}</pre>'),a.put("views/team.html",'<h2 class="page-title col-md-offset-4">Time&nbsp;<span class=team-title-name>{{config.name}}</span></h2>\n<h2 ng-if="config.descr.length > 0" class="team-lemma col-md-offset-5 col-md-4">"{{config.descr}}"</h2>\n<div class=container-fluid>\n  <div class=row>\n    <div class="col-md-11 col-centered" style="display: flex; justify-content: center">\n      <div ng-repeat="member in team.members" class=col-md-2>\n        <div class=row>\n          <img class=profile-image ng-src={{member.url}}>\n        </div>\n        <div class=row>\n          <p class=team-member-name>{{member.name}}\n          <span ng-if="team.admin == member.id" class=team-admin>(admin)</span>\n          </p>\n        </div>\n        <div class=row>\n          <p class=team-member-username>{{member.username}}\n            <span ng-if="team.isLoggedAdmin && member.id != team.admin">\n              &nbsp;<a href=# confirmed-click=removeFromTeam(member.id)>(remover)</a>\n            </span>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=row>\n    <div class=col-md-5>\n      <table class="table table-striped">\n        <thead>\n          <tr>\n            <th>Competição</th>\n            <th>Início</th>\n            <th>Fim</th>\n          </tr>\n        </thead>\n        <tbody>\n\n        </tbody>\n      </table>\n    </div>\n    <div ng-show=team.isLoggedAdmin>\n      <div class="col-md-offset-1 col-md-4">\n        <table class="table table-striped">\n          <thead>\n            <tr>\n              <th colspan=2>\n                <a ng-class="tabSelected==\'invites\' ? \'team-tabs-selected\' : \'team-tabs-unselected\'" ng-click="changeTab(\'invites\')">Convidados</a>\n                &nbsp;/&nbsp;\n                <a ng-class="tabSelected==\'config\' ? \'team-tabs-selected\' : \'team-tabs-unselected\'" ng-click="changeTab(\'config\')">Configurações</a>\n              </th>\n            </tr>\n          </thead>\n          <tbody ng-show="tabSelected==\'invites\'">\n            <tr ng-repeat="invitee in team.invites" class=animation>\n              <td>{{invitee.email}}</td>\n              <td><a href=# confirmed-click=removeFromTeam(invitee.id)>Remover</a></td>\n            </tr>\n            <tr ng-form=inviteForm>\n              <td><input type=email class=form-control ng-model=newInvite name=newInvite placeholder=E-mail required></td>\n              <td><button ng-click=invite() class=form-control ng-disabled=inviteForm.$invalid>Convidar</button></td>\n            </tr>\n          </tbody>\n          <tbody ng-show="tabSelected==\'config\'">\n            <tr>\n              <td>Nome</td>\n              <td><input type=name class=form-control ng-model=config.name placeholder="Nome do Time" maxlength=30 ng-change=edit()></td>\n            </tr>\n            <tr>\n              <td>Lema</td>\n              <td><textarea class=form-control ng-model=config.descr placeholder="Lema do Time" maxlength=250 ng-change=edit()></textarea></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>');
}]);